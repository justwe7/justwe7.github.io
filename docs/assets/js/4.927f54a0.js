(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{205:function(t,s,a){t.exports=a.p+"assets/img/vue-2.2891d7c9.png"},206:function(t,s){t.exports="data:image/png;base64,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"},223:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ğŸ˜‚ï¼Œè¿˜æ˜¯è‡ªå·±æ•²ä¸€éæ‰èƒ½æ·±åˆ»ç†è§£ï¼Œå…ˆä¸Šä»£ç "),n("a",{attrs:{href:"https://justwe7.github.io/mvvm/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://justwe7.github.io/mvvm/index.html"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"vueè¿è¡Œæœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vueè¿è¡Œæœºåˆ¶"}},[t._v("#")]),t._v(" Vueè¿è¡Œæœºåˆ¶")]),t._v(" "),n("p",[n("img",{attrs:{src:a(205),alt:"vueè¿è¡Œæœºåˆ¶"}})]),t._v(" "),n("ol",[n("li",[n("code",[t._v("new Vue()")]),t._v("ä¹‹åä¼šæ‰§è¡Œinitï¼Œåˆå§‹åŒ–dataã€propsã€ç”Ÿå‘½å‘¨æœŸã€methodsã€computedã€watchç­‰ã€‚ä¸»è¦é€šè¿‡"),n("code",[t._v("Object.defineProperty")]),t._v("ç›‘å¬dataçš„æ•°æ®ï¼Œå½¢æˆObserver")]),t._v(" "),n("li",[t._v("compileä¼šç»è¿‡parse(è§£æ)ã€optimize(ä¼˜åŒ–)ä¸generate(ç”Ÿæˆ)ä¸‰ä¸ªé˜¶æ®µ\n"),n("ol",[n("li",[t._v("è§£æ"),n("code",[t._v("<template>")]),t._v("ä¸­çš„domæ ‘ä¸ºAST(æŠ½è±¡è¯­æ³•æ ‘â€“Abstract Syntax Tree)")]),t._v(" "),n("li",[t._v("æ ‡è®°é™æ€èŠ‚ç‚¹ï¼Œåé¢å½“updateæ›´æ–°æ´é¢æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªpatchçš„è¿‡ç¨‹ï¼Œdiffç®—æ³•ä¼šç›´æ¥è·³è¿‡é™æ€èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘æ¯”è¾ƒçš„è¿‡ç¨‹ï¼Œä¼˜åŒ–äº†patchçš„æ€§èƒ½ã€‚")]),t._v(" "),n("li",[t._v("å°†ASTè½¬æ¢ä¸ºrender function")])])]),t._v(" "),n("li",[t._v("render functionä¼šè¯»å–compileè§£æåˆ°çš„éœ€è¦"),n("strong",[t._v("ä¾èµ–æ”¶é›†")]),t._v("çš„å€¼ï¼Œä¾èµ–æ”¶é›†çš„ç›®çš„æ˜¯å°†è§‚å¯Ÿè€…Watcherå¯¹è±¡(è§‚å¯Ÿæ•°æ® æ›´æ–°è§†å›¾)å­˜æ”¾åˆ°"),n("code",[t._v("Observer")]),t._v("ä¸‹å½“å‰é—­åŒ…ä¸­çš„è®¢é˜…è€…Depçš„subsä¸­ã€‚")]),t._v(" "),n("li",[t._v("åœ¨ä¿®æ”¹dataå€¼çš„æ—¶å€™ï¼Œä¼šè§¦å‘å¯¹åº”çš„"),n("code",[t._v("setter")]),t._v("ï¼Œsetteré€šçŸ¥ä¹‹å‰"),n("strong",[t._v("ä¾èµ–æ”¶é›†")]),t._v("å¾—åˆ°çš„Depä¸­çš„æ¯ä¸€ä¸ªWatcherï¼Œå‘Šè¯‰å®ƒä»¬è‡ªå·±çš„å€¼æ”¹å˜äº†ï¼Œéœ€è¦é‡æ–°æ¸²æŸ“è§†å›¾ã€‚è¿™æ—¶å€™è¿™äº›Watcherå°±ä¼šå¼€å§‹è°ƒç”¨updateæ¥æ›´æ–°è§†å›¾(å½“ç„¶è¿™ä¸­é—´è¿˜æœ‰ä¸€ä¸ªpatchçš„è¿‡ç¨‹ä»¥åŠä½¿ç”¨é˜Ÿåˆ—æ¥å¼‚æ­¥æ›´æ–°çš„ç­–ç•¥)ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"ç®€æ˜“å®ç°æ€è€ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç®€æ˜“å®ç°æ€è€ƒ"}},[t._v("#")]),t._v(" ç®€æ˜“å®ç°æ€è€ƒ")]),t._v(" "),n("ol",[n("li",[t._v("é¦–å…ˆï¼Œéœ€è¦åˆ©ç”¨"),n("code",[t._v("Object.defineProperty")]),t._v("ï¼Œå°†è¦è§‚å¯Ÿçš„å¯¹è±¡ï¼Œè½¬åŒ–æˆgetter/setterï¼Œä»¥ä¾¿æ‹¦æˆªå¯¹è±¡èµ‹å€¼ä¸å–å€¼æ“ä½œï¼Œç§°ä¹‹ä¸ºObserverï¼›")]),t._v(" "),n("li",[t._v("éœ€è¦å°†DOMè§£æï¼Œæå–å…¶ä¸­çš„æŒ‡ä»¤ä¸å ä½ç¬¦ï¼Œå¹¶èµ‹ä¸ä¸åŒçš„æ“ä½œï¼Œç§°ä¹‹ä¸ºCompilerï¼›")]),t._v(" "),n("li",[t._v("éœ€è¦å°†Compileçš„è§£æç»“æœï¼Œä¸Observeræ‰€è§‚å¯Ÿçš„å¯¹è±¡è¿æ¥èµ·æ¥ï¼Œå»ºç«‹å…³ç³»ï¼Œåœ¨Observerè§‚å¯Ÿåˆ°å¯¹è±¡æ•°æ®å˜åŒ–æ—¶ï¼Œæ¥æ”¶é€šçŸ¥ï¼ŒåŒæ—¶æ›´æ–°DOMï¼Œç§°ä¹‹ä¸ºWatcherï¼›")]),t._v(" "),n("li",[t._v("æœ€åï¼Œéœ€è¦ä¸€ä¸ªå…¬å…±å…¥å£å¯¹è±¡ï¼Œæ¥æ”¶é…ç½®ï¼Œåè°ƒä¸Šè¿°ä¸‰è€…ï¼›")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(206),alt:"vueè¿è¡Œæœºåˆ¶"}})]),t._v(" "),n("p",[t._v("é¦–å…ˆçœ‹ä¸‹æœ€ç®€å•çš„vueå®ä¾‹åŒ…å«çš„é…ç½®")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mvvm")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    el"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      a"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fooçš„å€¼"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    methods"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h4",{attrs:{id:"å®ç°observer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°observer"}},[t._v("#")]),t._v(" å®ç°Observer")]),t._v(" "),n("p",[t._v("æ ¸å¿ƒæ˜¯ä½¿ç”¨"),n("code",[t._v("Object.defineProperty")]),t._v("åŠ¨æ€ç›‘å¬"),n("code",[t._v("new Vue()")]),t._v("ä¼ å…¥option.dataçš„æ¯ä¸€ä¸ªå€¼ï¼Œé€šè¿‡é€’å½’æ¥å®ç°")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mvvm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åŠ«æŒæ•°æ® */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* æ•°æ®åŠ«æŒ */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[object Object]"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å–å‡ºæ‰€æœ‰å±æ€§éå†")]),t._v("\n    Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(data, key, data[key]);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* é€šè¿‡observerå¯ä»¥åŠ«æŒåˆ°æ•°æ®ï¼Œ æ¥ä¸‹æ¥ç›®çš„æ˜¯å¦‚ä½•è§£å†³æ•°æ®ä¸è§†å›¾åŒæ­¥çš„é—®é¢˜ï¼Œ ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼  */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬å­å±æ€§ï¼Œå¦‚æœå­å±æ€§æ˜¯å¯¹è±¡å¯¹è·³è¿‡åˆ¤æ–­è¿›è¡Œé€’å½’")]),t._v("\n    Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      enumerable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯æšä¸¾")]),t._v("\n      configurable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸èƒ½å†define")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getterç›‘å¬å€¼å˜åŒ–ï¼š%s"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setterç›‘å¬å€¼å˜åŒ–---æ—§å€¼ï¼š%s => æ–°å€¼ï¼š%s"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",[n("li",[t._v("ä¼ å…¥ã€observeræ–¹æ³•ã€‘ä¸€ä¸ªå¯¹è±¡"),n("code",[t._v("obj = {a: 122}")]),t._v(","),n("code",[t._v("Object.keys(obj)")]),t._v("å–å‡ºå¯¹è±¡ä¸‹çš„keyå€¼")]),t._v(" "),n("li",[t._v("è°ƒç”¨ã€defineReactiveæ–¹æ³•ã€‘ï¼Œé€šè¿‡ã€observerä¸­forEachéå†å¯¹è±¡keyå€¼ã€‘éå†æ‹¿åˆ°çš„keyå€¼å’Œå½“å‰é—­åŒ…ä¸­çš„å¯¹è±¡obj, é€šè¿‡"),n("code",[t._v("Object.defineProperty(obj, key, {getter, setter, ...})")]),t._v("æ¥å®ç°æ•°æ®åŠ«æŒï¼Œå¦‚æœæ˜¯å¤šç»´å¯¹è±¡ä¼šé€’å½’è°ƒç”¨ã€observeræ–¹æ³•ã€‘")]),t._v(" "),n("li",[t._v("æ­¤æ—¶å¦‚æœåœ¨æ§åˆ¶å°æ‰§è¡Œapp.$data.a = 123 åº”è¯¥ä¼šæ‰§è¡Œlogæ‰“å°ä¿¡æ¯")])]),t._v(" "),n("h4",{attrs:{id:"åˆæ­¥å®ç°watcherä¸observerç»“åˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆæ­¥å®ç°watcherä¸observerç»“åˆ"}},[t._v("#")]),t._v(" åˆæ­¥å®ç°watcherä¸observerç»“åˆ")]),t._v(" "),n("p",[t._v("watcherèŒè´£æ˜¯ç›‘å¬æ•°æ®çš„æ›´æ–°ï¼Œç„¶åå†è§¦å‘è§†å›¾çš„æ›´æ–°ï¼Œå¦‚ä½•ç›‘å¬ï¼Ÿã€è®¢é˜…å‘å¸ƒæ¨¡å¼ã€‘åœ¨å“ªç›‘å¬ï¼Ÿã€getterå¤„è®¢é˜…(æ·»åŠ complieç¼–è¯‘æ¨¡æ¿æ—¶æ·»åŠ ä¸€æ¬¡è®¢é˜…)ï¼Œsetterå¤„å‘å¸ƒé€šçŸ¥æ›´æ–°ã€‘watcherå¯¹è±¡é‡Œé¢æœ‰ä»€ä¹ˆæ•°æ®ï¼Ÿã€å½“å‰çš„vueå®ä¾‹ï¼Œå½“å‰watcherçš„dataå¯¹è±¡ä¸‹æ•°æ®çš„keyå€¼ï¼Œè¿˜æœ‰è¦æ‰§è¡Œä»€ä¹ˆæ“ä½œã€‘")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://lihx.top/shi-yao-shi-fa-bu-ding-yue-mo-shi/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¢é˜…å‘å¸ƒæ¨¡å¼å‚è€ƒ"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("é¦–å…ˆå®ç°çš„è®¢é˜…å‘å¸ƒæ¨¡å¼")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" targetWatcher "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("tWatcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tWatcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("tWatcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      tWatcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("å®ç°ä¸€ä¸ªwatcher")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* è§‚å¯Ÿæ•°æ® æ›´æ–°è§†å›¾*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'watcherè§¦å‘è§†å›¾æ›´æ–°ï¼Œdataçš„keyå€¼:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("æ·»åŠ watherè§‚å¯Ÿæ•°æ®ï¼Œæ¥æ”¶æ•°æ®å˜åŒ–")])]),t._v(" "),n("p",[t._v("defineReactiveæ‰§è¡Œå½¢æˆäº†ä¸€ä¸ªé—­åŒ…ï¼Œé¦–æ¬¡æ‰§è¡Œå› ä¸ºæ²¡æœ‰targetWatcherä¸ä¼šæ·»åŠ è®¢é˜…ï¼Œæ‰€ä»¥åœ¨"),n("code",[t._v("new Wacher()")]),t._v("è¦è®¿é—®ä¸€ä¸‹data.xxxã€ä¸»åŠ¨è§¦å‘ä¸€ä¸‹getterã€‘")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åŠ«æŒæ•°æ® */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ã€ä¸»åŠ¨è§¦å‘ä¸€ä¸‹getterã€‘ */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dep "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* é€šè¿‡observerå¯ä»¥åŠ«æŒåˆ°æ•°æ®ï¼Œ æ¥ä¸‹æ¥ç›®çš„æ˜¯å¦‚ä½•è§£å†³æ•°æ®ä¸è§†å›¾åŒæ­¥çš„é—®é¢˜ï¼Œ ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œ  */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬å­å±æ€§ï¼Œå¦‚æœå­å±æ€§æ˜¯å¯¹è±¡å¯¹è·³è¿‡åˆ¤æ–­è¿›è¡Œé€’å½’")]),t._v("\n    Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      enumerable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯æšä¸¾")]),t._v("\n      configurable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸èƒ½å†define")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* watcheræ˜¯è®¢é˜…è€…  é¦–æ¬¡ç¼–è¯‘æ¨¡æ¿çš„æ—¶å€™å…ˆæ·»åŠ è®¢é˜… */")]),t._v("\n        Dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("targetWatcher "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("targetWatcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("å› ä¸ºkeyå¯èƒ½åœ¨å¤šå¤„ç›¸åŒï¼Œæ‰€ä»¥Depä¸watcherå…³ç³»ä¸ºï¼š")]),n("br"),t._v("\nDep"),n("br"),t._v("\nâ”œâ”€watcher"),n("br"),t._v("\nâ”œâ”€watcher"),n("br"),t._v("\nâ””â”€watcher")]),t._v(" "),n("h4",{attrs:{id:"å®ç°compile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°compile"}},[t._v("#")]),t._v(" å®ç°compile")]),t._v(" "),n("p",[t._v("compileèŒè´£æ˜¯è§£æå®ä¾‹çš„domæ ‘ï¼Œæå–å‡ºæ’å€¼è¡¨è¾¾å¼ä¸­éœ€è¦çš„dataï¼Œæ·»åŠ watcheræ¥æ›´æ–°è§†å›¾ã€‚")]),t._v(" "),n("p",[t._v("åœ¨æ„vueé€ å®ä¾‹ä¸­é¦–å…ˆå®ä¾‹åŒ–compileï¼Œå°†domæ ‘å’Œå½“å‰çš„vmå®ä¾‹ä¼ å…¥")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åŠ«æŒæ•°æ® */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n      ç¼–è¾‘æ¨¡æ¿\n      åŒæ—¶æ·»åŠ watcher\n    */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new Watcher(this, 'a')")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.a")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("code",[t._v("new comile")]),t._v("ä¼šæ¥æ”¶domæ ‘")]),t._v(" "),n("ol",[n("li",[t._v("å°†domæ ‘ä¾æ¬¡éå†å­˜å…¥å†…å­˜ä¸­ $fragment")]),t._v(" "),n("li",[t._v("å°†å†…å­˜ä¸­çš„domæ ‘è§£æï¼Œå¦‚"),n("code",[t._v("{{}} v-")]),t._v("ç­‰æ“ä½œï¼Œå¹¶ç¼–è¯‘æˆçœŸæ­£çš„domæ ‘ï¼Œèµ‹å€¼ç»™ $fragment")]),t._v(" "),n("li",[t._v("å°† $fragment æ’å…¥åˆ°å½“å‰çš„domæ ¹èŠ‚ç‚¹ä¸­")])]),t._v(" "),n("p",[t._v("ç¬¬äºŒæ­¥compileæ“ä½œéœ€è¦åˆ¤æ–­ä¸åŒçš„èŠ‚ç‚¹ç±»å‹æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œå¦‚æ–‡æœ¬èŠ‚ç‚¹å¯èƒ½ä¼šå­˜åœ¨{{}}è¡¨è¾¾å¼ï¼Œæ ‡ç­¾èŠ‚ç‚¹å¯èƒ½ä¼šå­˜åœ¨v-æŒ‡ä»¤ï¼ŒåŒºåˆ†ä¸åŒçš„æ“ä½œã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isElementNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$fragment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("node2Fragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å°†elçš„èŠ‚ç‚¹å­˜åœ¨ç¼“å­˜$fragmentä¸­  æ­¤æ—¶åŒ…å«{{}}ç­‰")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.init(); //ç¼–è¯‘$fragment")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç¼–è¯‘$fragment")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å°†ç¼–è¯‘å‡ºçš„$fragmentæ·»åŠ åˆ°èŠ‚ç‚¹  æ­¤æ—¶æ˜¯domèŠ‚ç‚¹")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("node2Fragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éå†elæŠŠå†…å®¹è¿”å›å‡ºæ¥")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fragment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†åŸç”ŸèŠ‚ç‚¹æ‹·è´åˆ°fragment")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("child "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" childNodes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("childNodes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\{\\{(.*)\\}\\}/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(node.name);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isElementNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦‚æœæ˜¯æ ‡ç­¾èŠ‚ç‚¹ <div></div>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isTextNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" reg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦‚æœæ˜¯æ–‡æœ¬èŠ‚ç‚¹ {{}}  å–å‡ºkey ç„¶åä»observerå®ä¾‹ä¸­å–å‡ºå¯¹åº”çš„å€¼")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* RegExp.$1 å–æœ€è¿‘çš„ä¸Šä¸‹æ–‡åŒ¹é…æ­£åˆ™çš„$1 */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(RegExp.$1);")]),t._v("\n        compileUtil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RegExp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.compileText(node, RegExp.$1.trim());")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" nodeAttrs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nodeAttrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("attr")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" attrName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isDirective")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("attrName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" exp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//å– å±æ€§å v-model="foo" çš„ foo')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attrName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("substring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å–æŒ‡ä»¤å å¦‚ v-textçš„text  v-on")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// äº‹ä»¶æŒ‡ä»¤")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isEventDirective")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          compileUtil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("eventHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ™®é€šæŒ‡ä»¤")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          compileUtil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" compileUtil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("attrName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isDirective")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("attr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ˜¯ vue æŒ‡ä»¤")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" attr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v-"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isEventDirective")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isElementNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_isTextNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"å»ºç«‹complieå’Œwatcherå®ç°å…³ç³»å®ç°viewæ›´æ–°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç«‹complieå’Œwatcherå®ç°å…³ç³»å®ç°viewæ›´æ–°"}},[t._v("#")]),t._v(" å»ºç«‹complieå’Œwatcherå®ç°å…³ç³»å®ç°viewæ›´æ–°")]),t._v(" "),n("p",[t._v("å°è£…compileUtilå·¥å…·æ–¹æ³•,åœ¨complieå¤„è°ƒç”¨ï¼Œè°ƒç”¨æ—¶å¯ä»¥æ·»åŠ watherè¿›è¡Œæ•°æ®è®¢é˜…ï¼Œæ•°æ®ä¿®æ”¹æ—¶å€™ï¼Œä¼ å…¥å¯¹åº”çš„æ“ä½œè¿›è¡Œdomæ›´æ–°ã€‚"),n("br"),t._v("\nåœ¨è¿™æ—¶æ•´åˆä¹‹å‰çš„observerå’Œwatcherå»ºç«‹å…³è”ï¼Œå¹¶å®šä¹‰æ•°æ®è§¦å‘setterä¹‹åè¦æ‰§è¡Œä»€ä¹ˆæ ·çš„æ•°æ®æ“ä½œã€‚")]),t._v(" "),n("p",[t._v("æ‰€ä»¥å®Œå–„ä¸€ä¸‹wacther")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cb\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'watcherè§¦å‘è§†å›¾æ›´æ–°ï¼Œdataçš„keyå€¼:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("targetWatcher "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç”±äºjsæ˜¯å•çº¿ç¨‹")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.getter.call(this.vm, this.vm);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è®¿é—®ä¸€ä¸‹å®ä¾‹çš„observerçš„data keyå±æ€§ï¼Œæ·»åŠ è‡³depä¸­ï¼Œä¿®æ”¹æ—¶ä¼šè§¦å‘è§†å›¾æ›´æ–°")]),t._v("\n    Dep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("targetWatcher "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" compileUtil "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * @param {*} node å½“å‰æ“ä½œçš„domèŠ‚ç‚¹ï¼Œå¯èƒ½æ˜¯æ ‡ç­¾å±æ€§ä¹Ÿå¯èƒ½æ˜¯æ–‡æœ¬èŠ‚ç‚¹\n   * @param {*} vm å½“å‰çš„observerå®ä¾‹ ä¹Ÿå°±æ˜¯vueå®ä¾‹å¯ä»¥è®¿é—®åˆ°å¯¹åº”çš„å±æ€§\n   * @param {*} exp è¡¨è¾¾å¼çš„key å¦‚ {{foo}}ä¸­çš„foo å¯ä»¥é€šè¿‡vm[foo]å–åˆ°å®ä¾‹ä¸­çš„æ•°æ®\n   * @param {*} dir å®šä¹‰çš„domä¿®æ”¹æ“ä½œï¼Œå¦‚ v-text ä¸­çš„ text\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" updaterFn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" updater"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Updater"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    updaterFn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updaterFn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_getVMVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n      observerå®ä¾‹\n      expå¯¹åº”çš„keyçš„å¯¹è±¡\n    */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      updaterFn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updaterFn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("html")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("model")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"model"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" me "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_getVMVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      me"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_setVMVal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"class"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// äº‹ä»¶å¤„ç†")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("eventHandler")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" eventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      fn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("methods "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("methods"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" fn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("_getVMVal")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    exp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("k")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("_setVMVal")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    exp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éæœ€åä¸€ä¸ªkeyï¼Œæ›´æ–°valçš„å€¼")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" exp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ä»¥ä¸Šã€‚ã€‚ã€‚åŸºæœ¬å®ç°ç®€æ˜“ç‰ˆçš„vue")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/DMQ/mvvm",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‚è€ƒhttps://github.com/DMQ/mvvm"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);