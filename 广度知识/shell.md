# shellåŸºç¡€
## hello shell

1. åˆ›å»ºæ–‡ä»¶`$ touch helloworld.sh`
2. æ·»åŠ å†…å®¹
```shell
#!/bin/bash
echo "Hello World !"
```
> #! æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚

> echo å‘½ä»¤ç”¨äºå‘çª—å£è¾“å‡ºæ–‡æœ¬ã€‚

#### è¿è¡Œ Shell è„šæœ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š

åœ¨åˆšæ‰åˆ›å»ºçš„shellæ–‡ä»¶åŒç›®å½•ä¸‹

1. ä½œä¸ºå¯æ‰§è¡Œç¨‹åº

```shell
chmod +x ./helloworld.sh  #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™
./helloworld.sh  #æ‰§è¡Œè„šæœ¬
```

> æ³¨æ„ï¼Œ**ä¸€å®šè¦å†™æˆ ./helloworld.sh**ï¼Œè€Œä¸æ˜¯ helloworld.shï¼Œè¿è¡Œå…¶å®ƒäºŒè¿›åˆ¶çš„ç¨‹åºä¹Ÿä¸€æ ·

> ç›´æ¥å†™ helloworld.shï¼Œlinux ç³»ç»Ÿä¼šå» PATH é‡Œå¯»æ‰¾æœ‰æ²¡æœ‰å« helloworld.sh çš„ï¼Œè€Œåªæœ‰ /bin, /sbin, /usr/binï¼Œ/usr/sbin ç­‰åœ¨ PATH é‡Œï¼Œä½ çš„å½“å‰ç›®å½•é€šå¸¸ä¸åœ¨ PATH é‡Œï¼Œæ‰€ä»¥å†™æˆ helloworld.sh æ˜¯ä¼šæ‰¾ä¸åˆ°å‘½ä»¤çš„ï¼Œè¦ç”¨ ./helloworld.sh å‘Šè¯‰ç³»ç»Ÿè¯´ï¼Œå°±åœ¨å½“å‰ç›®å½•æ‰¾ã€‚

- macosæŠ¥é”™ï¼š**Terminal error: zsh: permission denied: ./helloworld.sh**
- å¯ä»¥æ‰§è¡Œ `chmod u+x ./helloworld.sh`

1. ä½œä¸ºè§£é‡Šå™¨å‚æ•°

è¿™ç§è¿è¡Œæ–¹å¼æ˜¯ï¼Œç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼Œå¦‚ï¼š

```shell
/bin/sh test.sh
/bin/php test.php
```

> è¿™ç§æ–¹å¼è¿è¡Œçš„è„šæœ¬ï¼Œä¸éœ€è¦åœ¨ç¬¬ä¸€è¡ŒæŒ‡å®šè§£é‡Šå™¨ä¿¡æ¯ï¼Œå†™äº†ä¹Ÿæ²¡ç”¨ã€‚

## echo
> å…ˆå­¦ä¸€å­¦bashçš„ console.log 

#### æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²
```bash
$ echo "It is a test"
It is a test
# åŒå¼•å·å®Œå…¨å¯ä»¥çœç•¥ï¼Œä»¥ä¸‹å‘½ä»¤ä¸ä¸Šé¢å®ä¾‹æ•ˆæœä¸€è‡´
$ echo It is a test
It is a test
```

#### æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦
```bash
$ echo "\"It is a test\""
"It is a test"
```


## å˜é‡

#### å˜é‡ç±»å‹
è¿è¡Œshellæ—¶ï¼Œä¼šåŒæ—¶å­˜åœ¨ä¸‰ç§å˜é‡ï¼š

1. å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚
2. ç¯å¢ƒå˜é‡ æ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚
3. shellå˜é‡ shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ

#### å®šä¹‰å˜é‡

- å‘½ååªèƒ½ä½¿ç”¨**è‹±æ–‡å­—æ¯ï¼Œæ•°å­—**å’Œ**ä¸‹åˆ’çº¿**ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚
- ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚
- ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚
- ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚

> **å®šä¹‰å˜é‡æ—¶**ï¼Œå˜é‡å**ä¸åŠ ç¾å…ƒç¬¦å·**ï¼ˆ$ï¼ŒPHPè¯­è¨€ä¸­å˜é‡éœ€è¦ï¼‰

ç¤ºä¾‹ï¼š
```bash
your_name="bill"
æˆ–
for file in `ls`  å°†ç›®å½•ä¸‹çš„æ–‡ä»¶åå¾ªç¯å‡ºæ¥ã€‚
æˆ–
for file in $(ls)  å°†ç›®å½•ä¸‹çš„æ–‡ä»¶åå¾ªç¯å‡ºæ¥ã€‚
```

#### ä½¿ç”¨å˜é‡

ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªè¦åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œå¦‚ï¼š
```shell
your_name="bill"
echo $your_name
echo ${your_name}
```
å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œ


#### åªè¯»å˜é‡
> ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚

```shell
your_name="bill"
readonly your_name
your_name="jack ma"
```

#### åˆ é™¤å˜é‡
`unset myUrl`

```bash
#!/bin/sh
myUrl="https://lihx.top"
echo $myUrl
unset myUrl
echo $myUrl
```


#### å˜é‡è¿ç®—
```bash
#!/bin/bash

a=5
b=6

result=$[a+b] # æ³¨æ„ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼
echo "result ä¸ºï¼š $result"
```
result ä¸ºï¼š 11


## Shellå­—ç¬¦ä¸²

> å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼ŒåŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡

#### å•å¼•å·
```bash
str='this is a string'
```
å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š

- å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼›
- å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ã€‚

#### åŒå¼•å·
```bash
$ your_name='runoob'
$ str="Hello, I know you are \"$your_name\"! \n"
$ echo -e $str
Hello, I know you are "runoob"! 
```

#### æ‹¼æ¥å­—ç¬¦ä¸²
```bash
$ your_name="runoob"
# ä½¿ç”¨åŒå¼•å·æ‹¼æ¥
$ greeting="hello, "$your_name" !"
$ greeting_1="hello, ${your_name} !"
$ echo $greeting  $greeting_1
hello, runoob ! hello, runoob !

# ä½¿ç”¨å•å¼•å·æ‹¼æ¥
$ greeting_2='hello, '$your_name' !'
$ greeting_3='hello, ${your_name} !'
$ echo $greeting_2  $greeting_3
hello, runoob ! hello, ${your_name} !
```

#### è·å–å­—ç¬¦ä¸²é•¿åº¦
```bash
$ string="abcd"
$ echo ${#string} #è¾“å‡º 4
4
```

#### æå–å­å­—ç¬¦ä¸²
```bash
$ string="runoob is a great site"
$ echo ${string:1:4} 
unoo
```

#### æŸ¥æ‰¾å­å­—ç¬¦ä¸²
æŸ¥æ‰¾å­—ç¬¦ i æˆ– o çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª)ï¼š
```bash
$ string="runoob is a great site"
$ echo `expr index "$string" io`  # è¾“å‡º 4
4
```


## æ•°ç»„
bashæ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°ã€‚

#### å®šä¹‰æ•°ç»„
åœ¨ Shell ä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨"ç©ºæ ¼"ç¬¦å·åˆ†å‰²å¼€ã€‚å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š`æ•°ç»„å=(å€¼1 å€¼2 ... å€¼n)`

```bash
array_name=(value0 value1 value2 value3)
æˆ–è€…
array_name=(
value0
value1
value2
value3
)
æˆ–è€…ä¸‹æ ‡èµ‹å€¼
array_name[0]=value0
array_name[1]=value1
array_name[n]=valuen
# å¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ã€‚
```

#### è¯»å–æ•°ç»„
è¯»å–æ•°ç»„å…ƒç´ å€¼çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š `${æ•°ç»„å[ä¸‹æ ‡]}`
```bash
$ arr=(1 22 333)
$ echo ${arr[2]}
333
$ echo ${arr[@]}
1 22 333

# è·å–æ•°ç»„çš„é•¿åº¦
$ echo ${#arr[@]}
3
# æˆ–è€…
$ echo ${#arr[*]}
3
# å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦
$ echo ${#arr[0]}
2
```

## æ³¨é‡Š
ä»¥ # å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ã€‚

é€šè¿‡æ¯ä¸€è¡ŒåŠ ä¸€ä¸ª # å·è®¾ç½®å¤šè¡Œæ³¨é‡Šï¼Œåƒè¿™æ ·ï¼š
```bash
#--------------------------------------------
# è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š
#--------------------------------------------
###### ç”¨æˆ·é…ç½®åŒº å¼€å§‹ ######
#
#
# è¿™é‡Œå¯ä»¥æ·»åŠ è„šæœ¬æè¿°ä¿¡æ¯
# 
#
###### ç”¨æˆ·é…ç½®åŒº ç»“æŸ  ######
```

#### å¤šè¡Œæ³¨é‡Š
```bash
:<<EOF
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
EOF

# æˆ–è€…

:<<'
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
'

# æˆ–è€…

:<<!
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
!
```

# shell-è¾“å‡º(echo & printf)
> printf ä½¿ç”¨å¼•ç”¨æ–‡æœ¬æˆ–ç©ºæ ¼åˆ†éš”çš„å‚æ•°ï¼Œå¤–é¢å¯ä»¥åœ¨ printf ä¸­ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åˆ¶å®šå­—ç¬¦ä¸²çš„å®½åº¦ã€å·¦å³å¯¹é½æ–¹å¼ç­‰ã€‚é»˜è®¤ printf ä¸ä¼šåƒ echo è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  \nã€‚


## echo
> å…ˆå­¦ä¸€å­¦bashçš„ console.log 

#### æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²
```bash
$ echo "It is a test"
It is a test
# åŒå¼•å·å®Œå…¨å¯ä»¥çœç•¥ï¼Œä»¥ä¸‹å‘½ä»¤ä¸ä¸Šé¢å®ä¾‹æ•ˆæœä¸€è‡´
$ echo It is a test
It is a test
```

#### æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦
```bash
$ echo "\"It is a test\""
"It is a test"
```

#### æ˜¾ç¤ºå˜é‡
ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º `test.sh`ï¼Œname æ¥æ”¶æ ‡å‡†è¾“å…¥çš„å˜é‡
```bash
#!/bin/sh
read name 
echo "$name It is a test"
```
è¿è¡Œshell `sh test.sh`ï¼ˆä»¥shellç¯å¢ƒæ¥è§£é‡Štest.shï¼‰ï¼Œç»“æœå°†æ˜¯:
```
OK                     #é”®ç›˜è¾“å…¥
OK It is a test        #è¾“å‡º
```

#### æ˜¾ç¤ºæ¢è¡Œ
**-e å¼€å¯è½¬ä¹‰**
```bash
echo -e "OK! \n" # -e å¼€å¯è½¬ä¹‰
echo "It is a test"
# è¾“å‡º
OK!

It is a test
```


## printf
`printf  format-string  [arguments...]`
- format-string: ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²
- arguments: ä¸ºå‚æ•°åˆ—è¡¨ã€‚

### ç®€å•ç¤ºä¾‹
```bash
#!/bin/bash
 
printf "%-10s %-8s %-4s\n" å§“å æ€§åˆ« ä½“é‡kg  
printf "%-10s %-8s %-4.2f\n" éƒ­é– ç”· 66.1234 
printf "%-10s %-8s %-4.2f\n" æ¨è¿‡ ç”· 48.6543 
printf "%-10s %-8s %-4.2f\n" éƒ­èŠ™ å¥³ 47.9876 
```
è¾“å‡º
```bash
å§“å     æ€§åˆ«   ä½“é‡kg
éƒ­é–     ç”·      66.12
æ¨è¿‡     ç”·      48.65
éƒ­èŠ™     å¥³      47.99
```

**%s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦**
`%-10s` æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚

`%-4.2f` æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚

### æ›¿æ¢ç¬¦ç¤ºä¾‹
```bash
#!/bin/bash

# format-stringä¸ºåŒå¼•å·
$ printf "%d %s\n" 1 "abc"
1 abc

# å•å¼•å·ä¸åŒå¼•å·æ•ˆæœä¸€æ · 
$ printf '%d %s\n' 1 "abc" 
1 abc

# æ²¡æœ‰å¼•å·ä¹Ÿå¯ä»¥è¾“å‡º
$ printf %s abcdef
abcdef

# æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡ºï¼Œformat-string è¢«é‡ç”¨
$ printf %s abc def
abcdef

$ printf "%s\n" abc def
abc
def

$ printf "%s %s %s\n" a b c d e f g h i j
a b c
d e f
g h i
j

# å¦‚æœæ²¡æœ‰ argumentsï¼Œé‚£ä¹ˆ %s ç”¨NULLä»£æ›¿ï¼Œ%d ç”¨ 0 ä»£æ›¿
$ printf "%s and %d \n" 
 and 0
```

### printfçš„è½¬ä¹‰åºåˆ—è¡¨

| åºåˆ—                      | è¯´æ˜                                                                                                                                                                         |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \a                        | è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸ºASCIIçš„BELå­—ç¬¦                                                                                                                                               |
| \b                        | åé€€                                                                                                                                                                         |
| \c                        | æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%bæ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥ |
| \f                        | æ¢é¡µï¼ˆformfeedï¼‰                                                                                                                                                             |
| \n                        | æ¢è¡Œ                                                                                                                                                                         |
| \r                        | å›è½¦ï¼ˆCarriage returnï¼‰                                                                                                                                                      |
| \t                        | æ°´å¹³åˆ¶è¡¨ç¬¦                                                                                                                                                                   |
| \v                        | å‚ç›´åˆ¶è¡¨ç¬¦                                                                                                                                                                   |
| \\|ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦ |
| \ddd                      | è¡¨ç¤º1åˆ°3ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ                                                                                                                             |
| \0ddd                     | è¡¨ç¤º1åˆ°3ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦                                                                                                                                                     |


# shell-ä¼ é€’å‚æ•°
### ä¼ é€’å‚æ•°
æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸ºï¼š$nã€‚n ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦

`1.sh` è„šæœ¬å†…å®¹ï¼š
```
#!/bin/bash

echo "Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼";
echo "æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0";
echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1";
echo "ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2";
echo "ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š$3";
```

æ‰§è¡Œè„šæœ¬ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼š ` ./2.sh 1 23 4 5`ï¼Œè¾“å‡ºå†…å®¹ï¼š
```
Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼
æ‰§è¡Œçš„æ–‡ä»¶åï¼š./2.sh
ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1
ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š23
ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š4
```


| å‚æ•°å¤„ç† | è¯´æ˜                                                                                                                     |
| -------- | ------------------------------------------------------------------------------------------------------------------------ |
| `$#`     | ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°                                                                                                     |
| `$*`     | ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚"$*"ç”¨ã€Œ"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥"$1 $2 â€¦ $n"çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚                    |
| `$$`     | è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·                                                                                                   |
| `$!`     | åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·                                                                                             |
| `$@`     | ä¸`$*`ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­**è¿”å›æ¯ä¸ªå‚æ•°**ã€‚å¦‚"$@"ç”¨ã€Œ"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥"$1" "$2" â€¦ "$n" çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ |
| `$-`     | æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚                                                                             |
| `$?`     | æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚                                                            |


### $* ä¸ $@ åŒºåˆ«ï¼š

> - ç›¸åŒç‚¹ï¼šéƒ½æ˜¯å¼•ç”¨æ‰€æœ‰å‚æ•°ã€‚
> - ä¸åŒç‚¹ï¼šåªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ã€‚
>   "*" ç­‰ä»·äº "1 2 3"ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰
>   "@" ç­‰ä»·äº "1" "2" "3"ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰

å½“å‰æœ‰å¦‚ä¸‹shellè„šæœ¬ï¼š
```bash
echo "-- \$* æ¼”ç¤º ---"
for i in "$*"; do
    echo $i
done

echo "-- \$@ æ¼”ç¤º ---"
for i in "$@"; do
    echo $i
done
```
æ‰§è¡Œè„šæœ¬å¹¶ä¼ å…¥å‚æ•° `./test.sh 1 2 3`ï¼Œè¾“å…¥ï¼š
```
-- $* æ¼”ç¤º ---
1 2 3
-- $@ æ¼”ç¤º ---
1
2
3
<!-- æˆ‘ç†è§£ä¸ºJSæ•°ç»„ä¸²å’Œæ•°ç»„çš„åŒºåˆ«ğŸ˜‚ -->
```


> åœ¨ä¸ºshellè„šæœ¬ä¼ é€’çš„å‚æ•°ä¸­å¦‚æœåŒ…å«ç©ºæ ¼ï¼Œåº”è¯¥ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·å°†è¯¥å‚æ•°æ‹¬èµ·æ¥ï¼Œä»¥ä¾¿äºè„šæœ¬å°†è¿™ä¸ªå‚æ•°ä½œä¸ºæ•´ä½“æ¥æ¥æ”¶ã€‚
åœ¨æœ‰å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¯¹å‚æ•°è¿›è¡Œæ ¡éªŒçš„æ–¹å¼å¤„ç†ä»¥å‡å°‘é”™è¯¯å‘ç”Ÿï¼š
```bash
if [ -n "$1" ]; then
    echo "åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°"
else
    echo "æ²¡æœ‰åŒ…å«ç¬¬ä¸€å‚æ•°"
fi
```

# shell-è¾“å…¥è¾“å‡ºé‡å®šå‘

| å‘½ä»¤            | è¯´æ˜                                               |
| --------------- | -------------------------------------------------- |
| command > file  | å°†è¾“å‡ºé‡å®šå‘åˆ° fileã€‚                              |
| command < file  | å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚                              |
| command >> file | å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚                  |
| n > file        | å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚             |
| n >> file       | å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚ |
| n >& m          | å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚                           |
| n <& m          | å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚                           |
| << tag          | å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚ |


### è¾“å‡ºé‡å®šå‘

**è¦†ç›–å†…å®¹**

- ç›´æ¥å°†è¾“å‡ºå†…å®¹è¦†ç›–åˆ°æ–‡ä»¶ï¼š
```bash
$ echo 'filenew' > file
$ cat file
filenew
```
- å°†è¾“å‡ºå†…å®¹è¿½åŠ åˆ°æ–‡ä»¶ï¼š
```bash
$ echo "new line" >> file
$ cat file
filenew
new line
```

å°†æŒ‡ä»¤çš„è¾“å‡ºå†…å®¹è¦†ç›–åˆ°æ–‡ä»¶
```bash
$ ls > file
file
```

### è¾“å‡ºé‡å®šå‘

æ²¡çœ‹æ‡‚~~ 
https://www.runoob.com/linux/linux-shell-io-redirections.html


### /dev/null
> å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/null

`ls > /dev/null`

/dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ /dev/null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°"ç¦æ­¢è¾“å‡º"çš„æ•ˆæœã€‚
å¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™: `command > /dev/null 2>&1`


# shell-æµç¨‹æ§åˆ¶(if & for)

> shçš„æµç¨‹æ§åˆ¶ä¸å¯ä¸ºç©ºï¼ˆelseä¸­ä¸å…è®¸å‡ºç°ç©ºä»£ç æ®µï¼‰

### if else

**if**
```bash
if condition
then
    command1 
    command2
    ...
    commandN 
fi

æˆ–è€…å†™æˆå•è¡Œ

if [ $(ps -ef | grep -c "ssh") -gt 1 ]; then echo "true"; fi
```

**if else**
```bash
if condition
then
    command1 
    command2
    ...
    commandN
else
    command
fi
```

**if else-if else**
```bash
if condition1
then
    command1
elif condition2 
then 
    command2
else
    commandN
fi
```

if elseè¯­å¥ç»å¸¸ä¸testå‘½ä»¤ç»“åˆä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```bash
num1=$[2*3]
num2=$[1+5]
if test $[num1] -eq $[num2]
then
    echo 'ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!'
else
    echo 'ä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰!'
fi

ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!
```

### for
è¯­æ³•
```bash
for var in item1 item2 ... itemN
do
    command1
    command2
    ...
    commandN
done

ä¸€è¡Œ
for var in item1 item2 ... itemN; do command1; command2â€¦ done;
```

ç¤ºä¾‹ï¼š
```bash
for loop in 1 2 3 4 5
do
    echo "The value is: $loop"
done

The value is: 1
The value is: 2
The value is: 3
The value is: 4
The value is: 5

for str in 'This is a string'; do echo $str; done;

This is a string
```


### while è¯­å¥
è¯­æ³•
```bash
while condition
do
    command
done
```

```bash
#!/bin/bash
int=1
while(( $int<=5 ))
do
    echo $int
    let "int++"
done
```
> let å‘½ä»¤ï¼Œå®ƒç”¨äºæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œå˜é‡è®¡ç®—ä¸­ä¸éœ€è¦åŠ ä¸Š $ æ¥è¡¨ç¤ºå˜é‡



### until å¾ªç¯
> until å¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ã€‚
>
> until å¾ªç¯ä¸ while å¾ªç¯åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚
```bash
until condition
do
    command
done
```

ç¤ºä¾‹
```bash
#!/bin/bash

a=0

until [ ! $a -lt 10 ]
do
   echo $a
   a=`expr $a + 1`
done
```

### case
å–å€¼åé¢å¿…é¡»ä¸ºå•è¯inï¼Œæ¯ä¸€æ¨¡å¼å¿…é¡»ä»¥å³æ‹¬å·ç»“æŸã€‚å–å€¼å¯ä»¥ä¸ºå˜é‡æˆ–å¸¸æ•°ã€‚åŒ¹é…å‘ç°å–å€¼ç¬¦åˆæŸä¸€æ¨¡å¼åï¼Œå…¶é—´æ‰€æœ‰å‘½ä»¤å¼€å§‹æ‰§è¡Œç›´è‡³ ;;ã€‚  
å–å€¼å°†æ£€æµ‹åŒ¹é…çš„æ¯ä¸€ä¸ªæ¨¡å¼ã€‚ä¸€æ—¦æ¨¡å¼åŒ¹é…ï¼Œåˆ™æ‰§è¡Œå®ŒåŒ¹é…æ¨¡å¼ç›¸åº”å‘½ä»¤åä¸å†ç»§ç»­å…¶ä»–æ¨¡å¼ã€‚å¦‚æœæ— ä¸€åŒ¹é…æ¨¡å¼ï¼Œä½¿ç”¨æ˜Ÿå· * æ•è·è¯¥å€¼ï¼Œå†æ‰§è¡Œåé¢çš„å‘½ä»¤ã€‚
```bash
case å€¼ in
æ¨¡å¼1)
    command1
    command2
    ...
    commandN
    ;;
æ¨¡å¼2ï¼‰
    command1
    command2
    ...
    commandN
    ;;
esac
```


### è·³å‡ºå¾ªç¯

#### breakå‘½ä»¤
breakå‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚

ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè„šæœ¬è¿›å…¥æ­»å¾ªç¯ç›´è‡³ç”¨æˆ·è¾“å…¥æ•°å­—å¤§äº5ã€‚è¦è·³å‡ºè¿™ä¸ªå¾ªç¯ï¼Œè¿”å›åˆ°shellæç¤ºç¬¦ä¸‹ï¼Œéœ€è¦ä½¿ç”¨breakå‘½ä»¤ã€‚
```bash
#!/bin/bash
while :
do
    echo -n "è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:"
    read aNum
    case $aNum in
        1|2|3|4|5) echo "ä½ è¾“å…¥çš„æ•°å­—ä¸º $aNum!"
        ;;
        *) echo "ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ"
            break
        ;;
    esac
done
```

#### continue
å®ƒä¸ä¼šè·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œä»…ä»…è·³å‡ºå½“å‰å¾ªç¯ã€‚

#### case ... esac
case ... esac ä¸å…¶ä»–è¯­è¨€ä¸­çš„ switch ... case è¯­å¥ç±»ä¼¼
> æ¯ä¸ª case åˆ†æ”¯ç”¨å³åœ†æ‹¬å·å¼€å§‹ï¼Œç”¨ä¸¤ä¸ªåˆ†å· ;; è¡¨ç¤º breakï¼Œå³æ‰§è¡Œç»“æŸï¼Œè·³å‡ºæ•´ä¸ª case ... esac è¯­å¥ï¼Œesacï¼ˆå°±æ˜¯ case åè¿‡æ¥ï¼‰ä½œä¸ºç»“æŸæ ‡è®°ã€‚
```bash
case å€¼ in
æ¨¡å¼1)
    command1
    command2
    command3
    ;;
æ¨¡å¼2ï¼‰
    command1
    command2
    command3
    ;;
*)
    command1
    command2
    command3
    ;;
esac
```

ç¤ºä¾‹
```bash
#!/bin/sh

site="runoob"

case "$site" in
   "runoob") echo "èœé¸Ÿæ•™ç¨‹"
   ;;
   "google") echo "Google æœç´¢"
   ;;
   "taobao") echo "æ·˜å®ç½‘"
   ;;
esac
```


# shell-è¿ç®—ç¬¦

## åŸºæœ¬è¿ç®—ç¬¦
åŒ…æ‹¬ï¼š 
- ç®—æ•°è¿ç®—ç¬¦
- å…³ç³»è¿ç®—ç¬¦
- å¸ƒå°”è¿ç®—ç¬¦
- å­—ç¬¦ä¸²è¿ç®—ç¬¦
- æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦


## ç®—æœ¯è¿ç®—ç¬¦
> åŸç”Ÿbashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œ**expr æœ€å¸¸ç”¨**ã€‚
expr æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œã€‚

| è¿ç®—ç¬¦ | è¯´æ˜                                          | ä¸¾ä¾‹                          |
| ------ | --------------------------------------------- | ----------------------------- |
| +      | åŠ æ³•                                          | `expr $a + $b` ç»“æœä¸º 30ã€‚    |
| -      | å‡æ³•                                          | `expr $a - $b` ç»“æœä¸º -10ã€‚   |
| *      | ä¹˜æ³•                                          | `expr $a \* $b` ç»“æœä¸º  200ã€‚ |
| /      | é™¤æ³•                                          | `expr $b / $a` ç»“æœä¸º 2ã€‚     |
| %      | å–ä½™                                          | `expr $b % $a` ç»“æœä¸º 0ã€‚     |
| =      | èµ‹å€¼                                          | a=$b å°†æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ aã€‚  |
| ==     | ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›¸åŒåˆ™è¿”å› trueã€‚     | [ $a == $b ] è¿”å› falseã€‚     |
| !=     | ä¸ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸ç›¸åŒåˆ™è¿”å› trueã€‚ | [ $a != $b ] è¿”å› trueã€‚      |

```bash
a=10
b=20

val=`expr $a + $b`
echo "a + b : $val"
# a + b : 30

val=`expr $a - $b`
echo "a - b : $val"
# a - b : -10

val=`expr $a \* $b`
echo "a * b : $val"
# a * b : 200

val=`expr $b / $a`
echo "b / a : $val"
# b / a : 2

val=`expr $b % $a`
echo "b % a : $val"
# b % a : 0

if [ $a == $b ]
then
   echo "a ç­‰äº b"
fi
# ä¸Šé¢çš„ä¸ä¼šè¾“å‡º
if [ $a != $b ]
then
   echo "a ä¸ç­‰äº b"
fi
# a ä¸ç­‰äº b
```

> ä¹˜å·(*)å‰è¾¹å¿…é¡»åŠ åæ–œæ (\)æ‰èƒ½å®ç°ä¹˜æ³•è¿ç®—ï¼›


## å…³ç³»è¿ç®—ç¬¦
> å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚ï¼ˆæœ‰å¾…è€ƒè¯ï¼Œæˆ‘è¯•ç€ä½¿å¯ä»¥çš„ï¼‰

| è¿ç®—ç¬¦ | è¯´æ˜                                                | ä¸¾ä¾‹                     |
| ------ | --------------------------------------------------- | ------------------------ |
| -eq    | æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› true                   | [ $a -eq $b ] è¿”å› false |
| -ne    | æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› true               | [ $a -ne $b ] è¿”å› true  |
| -gt    | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true     | [ $a -gt $b ] è¿”å› false |
| -lt    | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true     | [ $a -lt $b ] è¿”å› true  |
| -ge    | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true | [ $a -ge $b ] è¿”å› false |
| -le    | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true | [ $a -le $b ] è¿”å› true  |

ç¤ºä¾‹ï¼š
```bash
a=10
b=20

if [ $a -eq $b ]
then
   echo "$a -eq $b : a ç­‰äº b"
else
   echo "$a -eq $b: a ä¸ç­‰äº b"
fi
if [ $a -ne $b ]
then
   echo "$a -ne $b: a ä¸ç­‰äº b"
else
   echo "$a -ne $b : a ç­‰äº b"
fi
if [ $a -gt $b ]
then
   echo "$a -gt $b: a å¤§äº b"
else
   echo "$a -gt $b: a ä¸å¤§äº b"
fi
if [ $a -lt $b ]
then
   echo "$a -lt $b: a å°äº b"
else
   echo "$a -lt $b: a ä¸å°äº b"
fi
if [ $a -ge $b ]
then
   echo "$a -ge $b: a å¤§äºæˆ–ç­‰äº b"
else
   echo "$a -ge $b: a å°äº b"
fi
if [ $a -le $b ]
then
   echo "$a -le $b: a å°äºæˆ–ç­‰äº b"
else
   echo "$a -le $b: a å¤§äº b"
fi
```
è¾“å…¥ï¼š 
```
10 -eq 20: a ä¸ç­‰äº b
10 -ne 20: a ä¸ç­‰äº b
10 -gt 20: a ä¸å¤§äº b
10 -lt 20: a å°äº b
10 -ge 20: a å°äº b
10 -le 20: a å°äºæˆ–ç­‰äº b
```

## å¸ƒå°”è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜                                              | ä¸¾ä¾‹                                   |
| ------ | ------------------------------------------------- | -------------------------------------- |
| !      | éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› true | [ ! false ] è¿”å› true                  |
| -o     | æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› true           | [ $a -lt 20 -o $b -gt 100 ] è¿”å› true  |
| -a     | ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› true           | [ $a -lt 20 -a $b -gt 100 ] è¿”å› false |

ç¤ºä¾‹ï¼š
```bash
a=10
b=20

if [ $a != $b ]
then
   echo "$a != $b : a ä¸ç­‰äº b"
else
   echo "$a == $b: a ç­‰äº b"
fi
if [ $a -lt 100 -a $b -gt 15 ]
then
   echo "$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› true"
else
   echo "$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› false"
fi
if [ $a -lt 100 -o $b -gt 100 ]
then
   echo "$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› true"
else
   echo "$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› false"
fi
if [ $a -lt 5 -o $b -gt 100 ]
then
   echo "$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› true"
else
   echo "$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› false"
fi
```

è¾“å‡ºï¼š
```
10 != 20 : a ä¸ç­‰äº b
10 å°äº 100 ä¸” 20 å¤§äº 15 : è¿”å› true
10 å°äº 100 æˆ– 20 å¤§äº 100 : è¿”å› true
10 å°äº 5 æˆ– 20 å¤§äº 100 : è¿”å› false
```

## é€»è¾‘è¿ç®—ç¬¦
| è¿ç®—ç¬¦ | è¯´æ˜       | ä¸¾ä¾‹                                       |
| ------ | ---------- | ------------------------------------------ |
| `&&`   | é€»è¾‘çš„ AND | [[ $a -lt 100 && $b -gt 100 ]] è¿”å› false  |
| `||`   | é€»è¾‘çš„ OR  | `[[ $a -lt 100 || $b -gt 100 ]] è¿”å› true` |

ç¤ºä¾‹ï¼š
```bash
a=10
b=20

if [[ $a -lt 100 && $b -gt 100 ]]
then
   echo "è¿”å› true"
else
   echo "è¿”å› false"
fi

if [[ $a -lt 100 || $b -gt 100 ]]
then
   echo "è¿”å› true"
else
   echo "è¿”å› false"
fi
```

è¾“å‡ºï¼š
```
è¿”å› false
è¿”å› true
```

## å­—ç¬¦ä¸²è¿ç®—ç¬¦
| è¿ç®—ç¬¦ | è¯´æ˜                                    | ä¸¾ä¾‹                   |
| ------ | --------------------------------------- | ---------------------- |
| =      | æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› true   | [ $a = $b ] è¿”å› false |
| !=     | æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› true | [ $a != $b ] è¿”å› true |
| -z     | æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› true     | [ -z $a ] è¿”å› false   |
| -n     | æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å› true   | [ -n "$a" ] è¿”å› true  |
| $      | æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› true     | [ $a ] è¿”å› true       |

ç¤ºä¾‹ï¼š
```bash
a="abc"
b="efg"

if [ $a = $b ]
then
   echo "$a = $b : a ç­‰äº b"
else
   echo "$a = $b: a ä¸ç­‰äº b"
fi
if [ $a != $b ]
then
   echo "$a != $b : a ä¸ç­‰äº b"
else
   echo "$a != $b: a ç­‰äº b"
fi
if [ -z $a ]
then
   echo "-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0"
else
   echo "-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0"
fi
if [ -n "$a" ]
then
   echo "-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0"
else
   echo "-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0"
fi
if [ $a ]
then
   echo "$a : å­—ç¬¦ä¸²ä¸ä¸ºç©º"
else
   echo "$a : å­—ç¬¦ä¸²ä¸ºç©º"
fi
```

```
abc = efg: a ä¸ç­‰äº b
abc != efg : a ä¸ç­‰äº b
-z abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0
-n abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0
abc : å­—ç¬¦ä¸²ä¸ä¸ºç©º
```

## æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦
> æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚

| è¿ç®—ç¬¦  | è¯´æ˜                                                                      | ä¸¾ä¾‹                    |
| ------- | ------------------------------------------------------------------------- | ----------------------- |
| -b file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                             | [ -b $file ] è¿”å› false |
| -c file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                           | [ -c $file ] è¿”å› false |
| -d file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                                   | [ -d $file ] è¿”å› false |
| -f file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true | [ -f $file ] è¿”å› true  |
| -g file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                           | [ -g $file ] è¿”å› false |
| -k file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                 | [ -k $file ] è¿”å› false |
| -p file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                               | [ -p $file ] è¿”å› false |
| -u file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                           | [ -u $file ] è¿”å› false |
| -r file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                                     | [ -r $file ] è¿”å› true  |
| -w file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                                     | [ -w $file ] è¿”å› true  |
| -x file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                                   | [ -x $file ] è¿”å› true  |
| -s file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› true                    | [ -s $file ] è¿”å› true  |
| -e file | æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true                         | [ -e $file ] è¿”å› true  |

> å…¶ä»–æ£€æŸ¥ç¬¦ï¼š
> -S: åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socketã€‚
> -L: æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚

ç¤ºä¾‹ï¼š
```bash
# å˜é‡ file è¡¨ç¤ºæ–‡ä»¶ ./test.shï¼Œå®ƒçš„å¤§å°ä¸º 100 å­—èŠ‚ï¼Œå…·æœ‰ rwx æƒé™ã€‚ä¸‹é¢çš„ä»£ç ï¼Œå°†æ£€æµ‹è¯¥æ–‡ä»¶çš„å„ç§å±æ€§ï¼š
file="./test.sh"
if [ -r $file ]
then
   echo "æ–‡ä»¶å¯è¯»"
else
   echo "æ–‡ä»¶ä¸å¯è¯»"
fi
if [ -w $file ]
then
   echo "æ–‡ä»¶å¯å†™"
else
   echo "æ–‡ä»¶ä¸å¯å†™"
fi
if [ -x $file ]
then
   echo "æ–‡ä»¶å¯æ‰§è¡Œ"
else
   echo "æ–‡ä»¶ä¸å¯æ‰§è¡Œ"
fi
if [ -f $file ]
then
   echo "æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶"
else
   echo "æ–‡ä»¶ä¸ºç‰¹æ®Šæ–‡ä»¶"
fi
if [ -d $file ]
then
   echo "æ–‡ä»¶æ˜¯ä¸ªç›®å½•"
else
   echo "æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•"
fi
if [ -s $file ]
then
   echo "æ–‡ä»¶ä¸ä¸ºç©º"
else
   echo "æ–‡ä»¶ä¸ºç©º"
fi
if [ -e $file ]
then
   echo "æ–‡ä»¶å­˜åœ¨"
else
   echo "æ–‡ä»¶ä¸å­˜åœ¨"
fi
```

è¾“å‡ºï¼š
```
æ–‡ä»¶å¯è¯»
æ–‡ä»¶å¯å†™
æ–‡ä»¶å¯æ‰§è¡Œ
æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶
æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•
æ–‡ä»¶ä¸ä¸ºç©º
æ–‡ä»¶å­˜åœ¨
```

# shell-éªŒè¯(test)

### æ•°å€¼è¿ç®—æµ‹è¯•
ä¸å…³ç³»è¿ç®—ç¬¦è§„åˆ™ç±»ä¼¼

| è¿ç®—ç¬¦ | è¯´æ˜           |
| ------ | -------------- |
| -eq    | ç­‰äºåˆ™ä¸ºçœŸ     |
| -ne    | ä¸ç­‰äºåˆ™ä¸ºçœŸ   |
| -gt    | å¤§äºåˆ™ä¸ºçœŸ     |
| -lt    | å¤§äºç­‰äºåˆ™ä¸ºçœŸ |
| -ge    | å°äºåˆ™ä¸ºçœŸ     |
| -le    | å°äºç­‰äºåˆ™ä¸ºçœŸ |

```bash
#!/bin/bash

num1=100
num2=100
if test $[num1] -eq $[num2]
then
    echo 'ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼'
else
    echo 'ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼'
fi

ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼
```

```bash
#!/bin/bash

a=5
b=6

result=$[a+b] # æ³¨æ„ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼
echo "result ä¸ºï¼š $result"

result ä¸ºï¼š 11
```

### å­—ç¬¦ä¸²éªŒè¯
| è¿ç®—ç¬¦    | è¯´æ˜                     |
| --------- | ------------------------ |
| =         | ç­‰äºåˆ™ä¸ºçœŸ               |
| !=        | ä¸ç›¸ç­‰åˆ™ä¸ºçœŸ             |
| -z å­—ç¬¦ä¸² | å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºé›¶åˆ™ä¸ºçœŸ   |
| -n å­—ç¬¦ä¸² | å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¸ºé›¶åˆ™ä¸ºçœŸ |

```bash
#!/bin/bash

num1="ru1noob"
num2="runoob"
if test $num1 = $num2
then
    echo 'ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰!'
else
    echo 'ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!'
fi

ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!
```


### æ–‡ä»¶æµ‹è¯•éªŒè¯
| è¿ç®—ç¬¦    | è¯´æ˜                                 |
| --------- | ------------------------------------ |
| -e æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™ä¸ºçœŸ                   |
| -r æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»åˆ™ä¸ºçœŸ             |
| -w æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯å†™åˆ™ä¸ºçœŸ             |
| -x æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œåˆ™ä¸ºçœŸ           |
| -s æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦åˆ™ä¸ºçœŸ   |
| -d æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºç›®å½•åˆ™ä¸ºçœŸ           |
| -f æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºæ™®é€šæ–‡ä»¶åˆ™ä¸ºçœŸ       |
| -c æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå­—ç¬¦å‹ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ |
| -b æ–‡ä»¶å | å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ     |

```bash
cd /bin

if test -e ./bash
then
    echo 'æ–‡ä»¶å·²å­˜åœ¨!'
else
    echo 'æ–‡ä»¶ä¸å­˜åœ¨!'
fi

æ–‡ä»¶å·²å­˜åœ¨!
```

**ä¸( -a )ã€æˆ–( -o )ã€é( ! )ä¸‰ä¸ªé€»è¾‘æ“ä½œç¬¦**ç”¨äºå°†æµ‹è¯•æ¡ä»¶è¿æ¥èµ·æ¥ï¼Œå…¶ä¼˜å…ˆçº§ä¸ºï¼š"!"æœ€é«˜ï¼Œ"-a"æ¬¡ä¹‹ï¼Œ"-o"æœ€ä½ã€‚ä¾‹å¦‚ï¼š

åˆ¤æ–­ notFile å­˜åœ¨ æˆ–  bash å­˜åœ¨
```bash
cd /bin
if test -e ./notFile -o -e ./bash
then
    echo 'è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨!'
else
    echo 'ä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸å­˜åœ¨'
fi

è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨ï¼
```


# shell-å‡½æ•°

## å‡½æ•°å®šä¹‰
```bash
[ function ] fn [()] {
    action;
    [return int;]
}
```
> `[]`ä»£è¡¨å¯ç¼ºçœ

- å¯ä»¥å¸¦`function fun()` å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥`fun()` å®šä¹‰,ä¸å¸¦ä»»ä½•å‚æ•°ã€‚
- å‚æ•°è¿”å›å€¼ï¼Œå¯ä»¥æ˜¾å¼åŠ ï¼š`return` è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ returnåè·Ÿæ•°å€¼n(0-255

> æ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³shellè§£é‡Šå™¨é¦–æ¬¡å‘ç°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚

**ç¤ºä¾‹1**
```bash
#!/bin/bash

demoFun(){
    echo "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!"
}
echo "-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----"
demoFun
echo "-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----"
```

**ç¤ºä¾‹2**å‡½æ•°è¿”å›å€¼
```bash
#!/bin/bash

funWithReturn(){
    echo "è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—..."
    echo "è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: "
    read aNum
    echo "è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: "
    read anotherNum
    echo "ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º $aNum å’Œ $anotherNum !"
    return $(($aNum+$anotherNum))
}
funWithReturn
echo "è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º $? !"
```
> å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ `$?` æ¥è·å¾— 
> **`$?`ä»…ä»£è¡¨ä¸Šä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œç»“æœ**ï¼Œæ— è®ºå¼function è¿˜æ˜¯ echoï¼Œæ²¡æœ‰æŒ‡å®šè¿”å›åˆ™ä¸º0ï¼Œ0ä»£è¡¨æ‰§è¡ŒæˆåŠŸ
> 
> å‡½æ•°ä¸å‘½ä»¤çš„æ‰§è¡Œç»“æœå¯ä»¥ä½œä¸ºæ¡ä»¶è¯­å¥ä½¿ç”¨ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå’Œ C è¯­è¨€ä¸åŒï¼Œshell è¯­è¨€ä¸­ 0 ä»£è¡¨ trueï¼Œ0 ä»¥å¤–çš„å€¼ä»£è¡¨ falseã€‚


### å‡½æ•°å‚æ•°
`åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ $n çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼Œ$1è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°...`

å¸¦å‚æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼š
```bash
#!/bin/bash
funWithParam(){
    echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !"
    echo "ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !"
    echo "ç¬¬åä¸ªå‚æ•°ä¸º $10 !" #é”™è¯¯å†™æ³•
    echo "ç¬¬åä¸ªå‚æ•°ä¸º ${10} !"
    echo "ç¬¬åä¸€ä¸ªå‚æ•°ä¸º ${11} !"
    echo "å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!"
    echo "ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !"
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73

ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !
ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !
ç¬¬åä¸ªå‚æ•°ä¸º 10 !
ç¬¬åä¸ªå‚æ•°ä¸º 34 !
ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 !
å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!
ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 !
```
> `$10 `ä¸èƒ½è·å–ç¬¬åä¸ªå‚æ•°ï¼Œè·å–ç¬¬åä¸ªå‚æ•°éœ€è¦`${10}`ã€‚å½“n>=10æ—¶ï¼Œéœ€è¦ä½¿ç”¨`${n}`æ¥è·å–å‚æ•°ã€‚

### å‡½æ•°æ‰§è¡Œä¿¡æ¯

| å‚æ•°ç¬¦å· | è¯´æ˜                                                                                                                         |
| -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `$#`     | ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°                                                                                                         |
| `$*`     | ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚"$*"ç”¨ã€Œ"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥"$1 $2 â€¦ $n"çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚                        |
| `$$`     | è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·                                                                                                       |
| `$!`     | åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·                                                                                                 |
| `$@`     | ä¸`$*`ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­**è¿”å›æ¯ä¸ªå‚æ•°**ã€‚å¦‚"$@"ç”¨ã€Œ"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥"$1" "$2" â€¦ "$n" çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ |
| `$-`     | æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚                                                                                 |
| `$?`     | æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚                                                                |


# shell-æ¨¡å—åŒ–

Shell ä¹Ÿå¯ä»¥åŒ…å«å¤–éƒ¨è„šæœ¬ã€‚è¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°è£…ä¸€äº›å…¬ç”¨çš„ä»£ç ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ã€‚

åŸºæœ¬è¯­æ³•ï¼š
```bash
. filename   # æ³¨æ„ç‚¹å·(.)å’Œæ–‡ä»¶åä¸­é—´æœ‰ä¸€ç©ºæ ¼

æˆ–

source filename
```

ç¤ºä¾‹ï¼š
åˆ›å»ºä¸¤ä¸ªshï¼š

- `a.sh`
```bash
#!/bin/bash

foo="aæ¥çš„"
```

- `b.sh`
```bash
#!/bin/bash

source ./a.sh
# æˆ–è€…ä½¿ç”¨ `. ./a.sh`

echo `æ–‡ä»¶açš„å˜é‡ï¼š$foo`
```

æ‰§è¡Œ`./b.sh`ï¼Œè¾“å‡ºï¼š
`æ–‡ä»¶açš„å˜é‡ï¼šaæ¥çš„`

å¦‚æœ./b.shä¸èƒ½æ‰§è¡Œï¼Œéœ€è¦æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š`chmod +x b.sh`
