"use strict";(self.webpackChunkjustwe7_books=self.webpackChunkjustwe7_books||[]).push([[8220],{4137:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return k}});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=a.createContext({}),p=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},m=function(e){var n=p(e.components);return a.createElement(i.Provider,{value:n},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=p(t),c=l,k=u["".concat(i,".").concat(c)]||u[c]||s[c]||r;return t?a.createElement(k,d(d({ref:n},m),{},{components:t})):a.createElement(k,d({ref:n},m))}));function k(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,d=new Array(r);d[0]=c;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[u]="string"==typeof e?e:l,d[1]=o;for(var p=2;p<r;p++)d[p]=t[p];return a.createElement.apply(null,d)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},9415:function(e,n,t){t.r(n),t.d(n,{assets:function(){return m},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return u}});var a=t(7462),l=t(3366),r=(t(7294),t(4137)),d=["components"],o={},i=void 0,p={unversionedId:"vue/vue\u5b9e\u73b0\u539f\u7406",id:"vue/vue\u5b9e\u73b0\u539f\u7406",title:"vue\u5b9e\u73b0\u539f\u7406",description:"\u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\ud83d\ude02\uff0c\u8fd8\u662f\u81ea\u5df1\u6572\u4e00\u904d\u624d\u80fd\u6df1\u523b\u7406\u89e3\uff0c\u5148\u4e0a\u4ee3\u7801https://justwe7.github.io/mvvm/index.html",source:"@site/docs/vue/vue\u5b9e\u73b0\u539f\u7406.md",sourceDirName:"vue",slug:"/vue/vue\u5b9e\u73b0\u539f\u7406",permalink:"/docs/vue/vue\u5b9e\u73b0\u539f\u7406",draft:!1,editUrl:"https://github.com/justwe7/justwe7.github.io/blob/feature/docs/vue/vue\u5b9e\u73b0\u539f\u7406.md",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"vue\u4e2dv-model\u548csync\u4fee\u9970\u7b26",permalink:"/docs/vue/vue\u4e2dv-model\u548csync\u4fee\u9970\u7b26"},next:{title:"vue\u751f\u547d\u5468\u671f",permalink:"/docs/vue/vue\u751f\u547d\u5468\u671f"}},m={},u=[{value:"Vue\u8fd0\u884c\u673a\u5236",id:"vue\u8fd0\u884c\u673a\u5236",level:2},{value:"\u7b80\u6613\u5b9e\u73b0\u601d\u8003",id:"\u7b80\u6613\u5b9e\u73b0\u601d\u8003",level:2},{value:"\u5b9e\u73b0Observer",id:"\u5b9e\u73b0observer",level:3},{value:"\u521d\u6b65\u5b9e\u73b0watcher\u4e0eobserver\u7ed3\u5408",id:"\u521d\u6b65\u5b9e\u73b0watcher\u4e0eobserver\u7ed3\u5408",level:3},{value:"\u5b9e\u73b0compile",id:"\u5b9e\u73b0compile",level:3},{value:"\u5efa\u7acbcomplie\u548cwatcher\u5b9e\u73b0\u5173\u7cfb\u5b9e\u73b0view\u66f4\u65b0",id:"\u5efa\u7acbcomplie\u548cwatcher\u5b9e\u73b0\u5173\u7cfb\u5b9e\u73b0view\u66f4\u65b0",level:3},{value:"\u6838\u5fc3\u77e5\u8bc6\u70b9",id:"\u6838\u5fc3\u77e5\u8bc6\u70b9",level:2},{value:"\u865a\u62dfDOM",id:"\u865a\u62dfdom",level:3},{value:"vdom\u7684Diff",id:"vdom\u7684diff",level:3},{value:"\u901a\u8fc7diff\u7406\u89e3\u4e00\u4e0bkey",id:"\u901a\u8fc7diff\u7406\u89e3\u4e00\u4e0bkey",level:3},{value:"template\u89e3\u6790",id:"template\u89e3\u6790",level:3},{value:"\u53c2\u8003\u6587\u7ae0",id:"\u53c2\u8003\u6587\u7ae0",level:2}],s={toc:u};function c(e){var n=e.components,o=(0,l.Z)(e,d);return(0,r.kt)("wrapper",(0,a.Z)({},s,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\ud83d\ude02\uff0c\u8fd8\u662f\u81ea\u5df1\u6572\u4e00\u904d\u624d\u80fd\u6df1\u523b\u7406\u89e3\uff0c\u5148\u4e0a\u4ee3\u7801",(0,r.kt)("a",{parentName:"p",href:"https://justwe7.github.io/mvvm/index.html"},"https://justwe7.github.io/mvvm/index.html"),"  "),(0,r.kt)("h2",{id:"vue\u8fd0\u884c\u673a\u5236"},"Vue\u8fd0\u884c\u673a\u5236"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"vue\u8fd0\u884c\u673a\u5236",src:t(3765).Z,width:"1214",height:"843"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"new Vue()"),"\u4e4b\u540e\u4f1a\u6267\u884cinit\uff0c\u521d\u59cb\u5316data\u3001props\u3001\u751f\u547d\u5468\u671f\u3001methods\u3001computed\u3001watch\u7b49\u3002\u4e3b\u8981\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"li"},"Object.defineProperty"),"\u76d1\u542cdata\u7684\u6570\u636e\uff0c\u5f62\u6210Observer"),(0,r.kt)("li",{parentName:"ol"},"compile\u4f1a\u7ecf\u8fc7parse(\u89e3\u6790)\u3001optimize(\u4f18\u5316)\u4e0egenerate(\u751f\u6210)\u4e09\u4e2a\u9636\u6bb5",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u89e3\u6790",(0,r.kt)("inlineCode",{parentName:"li"},"<template>"),"\u4e2d\u7684dom\u6811\u4e3aAST(\u62bd\u8c61\u8bed\u6cd5\u6811\u2013Abstract Syntax Tree)"),(0,r.kt)("li",{parentName:"ol"},"\u6807\u8bb0\u9759\u6001\u8282\u70b9\uff0c\u540e\u9762\u5f53update\u66f4\u65b0\u6d01\u9762\u65f6\uff0c\u4f1a\u6709\u4e00\u4e2apatch\u7684\u8fc7\u7a0b\uff0cdiff\u7b97\u6cd5\u4f1a\u76f4\u63a5\u8df3\u8fc7\u9759\u6001\u8282\u70b9\uff0c\u4ece\u800c\u51cf\u5c11\u6bd4\u8f83\u7684\u8fc7\u7a0b\uff0c\u4f18\u5316\u4e86patch\u7684\u6027\u80fd\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5c06AST\u8f6c\u6362\u4e3arender function"))),(0,r.kt)("li",{parentName:"ol"},"render function\u4f1a\u8bfb\u53d6compile\u89e3\u6790\u5230\u7684\u9700\u8981",(0,r.kt)("strong",{parentName:"li"},"\u4f9d\u8d56\u6536\u96c6"),"\u7684\u503c\uff0c\u4f9d\u8d56\u6536\u96c6\u7684\u76ee\u7684\u662f\u5c06\u89c2\u5bdf\u8005Watcher\u5bf9\u8c61(\u89c2\u5bdf\u6570\u636e \u66f4\u65b0\u89c6\u56fe)\u5b58\u653e\u5230",(0,r.kt)("inlineCode",{parentName:"li"},"Observer"),"\u4e0b\u5f53\u524d\u95ed\u5305\u4e2d\u7684\u8ba2\u9605\u8005Dep\u7684subs\u4e2d\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u4fee\u6539data\u503c\u7684\u65f6\u5019\uff0c\u4f1a\u89e6\u53d1\u5bf9\u5e94\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"setter"),"\uff0csetter\u901a\u77e5\u4e4b\u524d",(0,r.kt)("strong",{parentName:"li"},"\u4f9d\u8d56\u6536\u96c6"),"\u5f97\u5230\u7684Dep\u4e2d\u7684\u6bcf\u4e00\u4e2aWatcher\uff0c\u544a\u8bc9\u5b83\u4eec\u81ea\u5df1\u7684\u503c\u6539\u53d8\u4e86\uff0c\u9700\u8981\u91cd\u65b0\u6e32\u67d3\u89c6\u56fe\u3002\u8fd9\u65f6\u5019\u8fd9\u4e9bWatcher\u5c31\u4f1a\u5f00\u59cb\u8c03\u7528update\u6765\u66f4\u65b0\u89c6\u56fe(\u5f53\u7136\u8fd9\u4e2d\u95f4\u8fd8\u6709\u4e00\u4e2apatch\u7684\u8fc7\u7a0b\u4ee5\u53ca\u4f7f\u7528\u961f\u5217\u6765\u5f02\u6b65\u66f4\u65b0\u7684\u7b56\u7565)\u3002")),(0,r.kt)("h2",{id:"\u7b80\u6613\u5b9e\u73b0\u601d\u8003"},"\u7b80\u6613\u5b9e\u73b0\u601d\u8003"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9996\u5148\uff0c\u9700\u8981\u5229\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"Object.defineProperty"),"\uff0c\u5c06\u8981\u89c2\u5bdf\u7684\u5bf9\u8c61\uff0c\u8f6c\u5316\u6210getter/setter\uff0c\u4ee5\u4fbf\u62e6\u622a\u5bf9\u8c61\u8d4b\u503c\u4e0e\u53d6\u503c\u64cd\u4f5c\uff0c\u79f0\u4e4b\u4e3aObserver\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u9700\u8981\u5c06DOM\u89e3\u6790\uff0c\u63d0\u53d6\u5176\u4e2d\u7684\u6307\u4ee4\u4e0e\u5360\u4f4d\u7b26\uff0c\u5e76\u8d4b\u4e88\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u79f0\u4e4b\u4e3aCompiler\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u9700\u8981\u5c06Compile\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u4e0eObserver\u6240\u89c2\u5bdf\u7684\u5bf9\u8c61\u8fde\u63a5\u8d77\u6765\uff0c\u5efa\u7acb\u5173\u7cfb\uff0c\u5728Observer\u89c2\u5bdf\u5230\u5bf9\u8c61\u6570\u636e\u53d8\u5316\u65f6\uff0c\u63a5\u6536\u901a\u77e5\uff0c\u540c\u65f6\u66f4\u65b0DOM\uff0c\u79f0\u4e4b\u4e3aWatcher\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u6700\u540e\uff0c\u9700\u8981\u4e00\u4e2a\u516c\u5171\u5165\u53e3\u5bf9\u8c61\uff0c\u63a5\u6536\u914d\u7f6e\uff0c\u534f\u8c03\u4e0a\u8ff0\u4e09\u8005\uff1b")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"vue\u8fd0\u884c\u673a\u5236",src:t(8845).Z,width:"730",height:"390"})),(0,r.kt)("p",null,"\u9996\u5148\u770b\u4e0b\u6700\u7b80\u5355\u7684vue\u5b9e\u4f8b\u5305\u542b\u7684\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  var app = new Mvvm({\n    el: "#app",\n    data: {\n      a: 122,\n      obj: {\n        foo: "foo\u7684\u503c"\n      }\n    },\n    methods: {\n      bar() {\n        this.a = +new Date()\n      }\n    }\n  })\n')),(0,r.kt)("h3",{id:"\u5b9e\u73b0observer"},"\u5b9e\u73b0Observer"),(0,r.kt)("p",null,"\u6838\u5fc3\u662f\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"Object.defineProperty"),"\u52a8\u6001\u76d1\u542c",(0,r.kt)("inlineCode",{parentName:"p"},"new Vue()"),"\u4f20\u5165option.data\u7684\u6bcf\u4e00\u4e2a\u503c\uff0c\u901a\u8fc7\u9012\u5f52\u6765\u5b9e\u73b0 "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'class Mvvm {\n  constructor(options) {\n    this.$options = options;\n    this.$data = options.data;\n\n    /* \u52ab\u6301\u6570\u636e */\n    this.observer(this.$data);\n  }\n\n  /* \u6570\u636e\u52ab\u6301 */\n  observer(data) {\n    if (\n      (data !== null && typeof data !== "object") ||\n      Object.prototype.toString(data) !== "[object Object]"\n    )\n      return;\n    // \u53d6\u51fa\u6240\u6709\u5c5e\u6027\u904d\u5386\n    Object.keys(data).forEach(key => {\n      // console.log(data, key, data[key]);\n      this.defineReactive(data, key, data[key]);\n    });\n  }\n  defineReactive(data, key, value) {\n    /* \u901a\u8fc7observer\u53ef\u4ee5\u52ab\u6301\u5230\u6570\u636e\uff0c \u63a5\u4e0b\u6765\u76ee\u7684\u662f\u5982\u4f55\u89e3\u51b3\u6570\u636e\u4e0e\u89c6\u56fe\u540c\u6b65\u7684\u95ee\u9898\uff0c \u4f7f\u7528\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f  */\n    this.observer(value); // \u76d1\u542c\u5b50\u5c5e\u6027\uff0c\u5982\u679c\u5b50\u5c5e\u6027\u662f\u5bf9\u8c61\u5bf9\u8df3\u8fc7\u5224\u65ad\u8fdb\u884c\u9012\u5f52\n    Object.defineProperty(data, key, {\n      enumerable: true, // \u53ef\u679a\u4e3e\n      configurable: false, // \u4e0d\u80fd\u518ddefine\n      get: function() {\n        console.log("getter\u76d1\u542c\u503c\u53d8\u5316\uff1a%s", value);\n        return value;\n      },\n      set: function(newVal) {\n        if (value !== newVal) {\n          console.log("setter\u76d1\u542c\u503c\u53d8\u5316---\u65e7\u503c\uff1a%s => \u65b0\u503c\uff1a%s", value, newVal);\n          value = newVal;\n        }\n      }\n    });\n  }\n}\n')),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4f20\u5165\u3010observer\u65b9\u6cd5\u3011\u4e00\u4e2a\u5bf9\u8c61",(0,r.kt)("inlineCode",{parentName:"li"},"obj = {a: 122}"),",",(0,r.kt)("inlineCode",{parentName:"li"},"Object.keys(obj)"),"\u53d6\u51fa\u5bf9\u8c61\u4e0b\u7684key\u503c"),(0,r.kt)("li",{parentName:"ol"},"\u8c03\u7528\u3010defineReactive\u65b9\u6cd5\u3011\uff0c\u901a\u8fc7\u3010observer\u4e2dforEach\u904d\u5386\u5bf9\u8c61key\u503c\u3011\u904d\u5386\u62ff\u5230\u7684key\u503c\u548c\u5f53\u524d\u95ed\u5305\u4e2d\u7684\u5bf9\u8c61obj, \u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"li"},"Object.defineProperty(obj, key, {getter, setter, ...})"),"\u6765\u5b9e\u73b0\u6570\u636e\u52ab\u6301\uff0c\u5982\u679c\u662f\u591a\u7ef4\u5bf9\u8c61\u4f1a\u9012\u5f52\u8c03\u7528\u3010observer\u65b9\u6cd5\u3011"),(0,r.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u5982\u679c\u5728\u63a7\u5236\u53f0\u6267\u884capp.$data.a = 123 \u5e94\u8be5\u4f1a\u6267\u884clog\u6253\u5370\u4fe1\u606f")),(0,r.kt)("h3",{id:"\u521d\u6b65\u5b9e\u73b0watcher\u4e0eobserver\u7ed3\u5408"},"\u521d\u6b65\u5b9e\u73b0watcher\u4e0eobserver\u7ed3\u5408"),(0,r.kt)("p",null,"watcher\u804c\u8d23\u662f\u76d1\u542c\u6570\u636e\u7684\u66f4\u65b0\uff0c\u7136\u540e\u518d\u89e6\u53d1\u89c6\u56fe\u7684\u66f4\u65b0\uff0c\u5982\u4f55\u76d1\u542c\uff1f\u3010\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f\u3011\u5728\u54ea\u76d1\u542c\uff1f\u3010getter\u5904\u8ba2\u9605(\u6dfb\u52a0complie\u7f16\u8bd1\u6a21\u677f\u65f6\u6dfb\u52a0\u4e00\u6b21\u8ba2\u9605)\uff0csetter\u5904\u53d1\u5e03\u901a\u77e5\u66f4\u65b0\u3011watcher\u5bf9\u8c61\u91cc\u9762\u6709\u4ec0\u4e48\u6570\u636e\uff1f\u3010\u5f53\u524d\u7684vue\u5b9e\u4f8b\uff0c\u5f53\u524dwatcher\u7684data\u5bf9\u8c61\u4e0b\u6570\u636e\u7684key\u503c\uff0c\u8fd8\u6709\u8981\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c\u3011"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://lihx.top/shi-yao-shi-fa-bu-ding-yue-mo-shi/"},"\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f\u53c2\u8003")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9996\u5148\u5b9e\u73b0\u7684\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"class Dep {\n  constructor() {\n    this.subs = [];\n  }\n  static targetWatcher = null\n  addSub(tWatcher) {\n    this.subs.push(tWatcher);\n  }\n  notify() {\n    this.subs.forEach(function(tWatcher) {\n      tWatcher.update();\n    });\n  }\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5b9e\u73b0\u4e00\u4e2awatcher")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/* \u89c2\u5bdf\u6570\u636e \u66f4\u65b0\u89c6\u56fe*/\nclass Watcher {\n  constructor(vm, key) {\n    this.vm = vm\n    this.key = key\n  }\n\n  update() {\n    console.log('watcher\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0\uff0cdata\u7684key\u503c:', this.key);\n  }\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6dfb\u52a0wather\u89c2\u5bdf\u6570\u636e\uff0c\u63a5\u6536\u6570\u636e\u53d8\u5316"),"   "),(0,r.kt)("p",null,"defineReactive\u6267\u884c\u5f62\u6210\u4e86\u4e00\u4e2a\u95ed\u5305\uff0c\u9996\u6b21\u6267\u884c\u56e0\u4e3a\u6ca1\u6709targetWatcher\u4e0d\u4f1a\u6dfb\u52a0\u8ba2\u9605\uff0c\u6240\u4ee5\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"new Wacher()"),"\u8981\u8bbf\u95ee\u4e00\u4e0bdata.xxx\u3010\u4e3b\u52a8\u89e6\u53d1\u4e00\u4e0bgetter\u3011"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  constructor(options) {\n    this.$options = options;\n    this.$data = options.data;\n    /* \u52ab\u6301\u6570\u636e */\n    this.observer(this.$data);\n\n    /* \u3010\u4e3b\u52a8\u89e6\u53d1\u4e00\u4e0bgetter\u3011 */\n    new Watcher(this, 'a')\n    this.a\n  }\n\n  defineReactive(data, key, value) {\n    var dep = new Dep();\n    /* \u901a\u8fc7observer\u53ef\u4ee5\u52ab\u6301\u5230\u6570\u636e\uff0c \u63a5\u4e0b\u6765\u76ee\u7684\u662f\u5982\u4f55\u89e3\u51b3\u6570\u636e\u4e0e\u89c6\u56fe\u540c\u6b65\u7684\u95ee\u9898\uff0c \u4f7f\u7528\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\uff0c  */\n    this.observer(value); // \u76d1\u542c\u5b50\u5c5e\u6027\uff0c\u5982\u679c\u5b50\u5c5e\u6027\u662f\u5bf9\u8c61\u5bf9\u8df3\u8fc7\u5224\u65ad\u8fdb\u884c\u9012\u5f52\n    Object.defineProperty(data, key, {\n      enumerable: true, // \u53ef\u679a\u4e3e\n      configurable: false, // \u4e0d\u80fd\u518ddefine\n      get: function() {\n        /* watcher\u662f\u8ba2\u9605\u8005  \u9996\u6b21\u7f16\u8bd1\u6a21\u677f\u7684\u65f6\u5019\u5148\u6dfb\u52a0\u8ba2\u9605 */\n        Dep.targetWatcher && dep.addSub(Dep.targetWatcher);\n        return value;\n      },\n      set: function(newVal) {\n        if (value !== newVal) {\n          value = newVal;\n          dep.notify();\n        }\n      }\n    });\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u56e0\u4e3akey\u53ef\u80fd\u5728\u591a\u5904\u76f8\u540c\uff0c\u6240\u4ee5Dep\u4e0ewatcher\u5173\u7cfb\u4e3a\uff1a"),(0,r.kt)("br",{parentName:"p"}),"\n","Dep",(0,r.kt)("br",{parentName:"p"}),"\n","\u251c\u2500watcher",(0,r.kt)("br",{parentName:"p"}),"\n","\u251c\u2500watcher",(0,r.kt)("br",{parentName:"p"}),"\n","\u2514\u2500watcher  "),(0,r.kt)("h3",{id:"\u5b9e\u73b0compile"},"\u5b9e\u73b0compile"),(0,r.kt)("p",null,"compile\u804c\u8d23\u662f\u89e3\u6790\u5b9e\u4f8b\u7684dom\u6811\uff0c\u63d0\u53d6\u51fa\u63d2\u503c\u8868\u8fbe\u5f0f\u4e2d\u9700\u8981\u7684data\uff0c\u6dfb\u52a0watcher\u6765\u66f4\u65b0\u89c6\u56fe\u3002 "),(0,r.kt)("p",null,"\u5728\u6784vue\u9020\u5b9e\u4f8b\u4e2d\u9996\u5148\u5b9e\u4f8b\u5316compile\uff0c\u5c06dom\u6811\u548c\u5f53\u524d\u7684vm\u5b9e\u4f8b\u4f20\u5165"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  constructor(options) {\n    this.$options = options;\n    this.$data = options.data;\n    /* \u52ab\u6301\u6570\u636e */\n    this.observer(this.$data);\n    /* \n      \u7f16\u8f91\u6a21\u677f\n      \u540c\u65f6\u6dfb\u52a0watcher\n    */\n    new Compile(options.el, this);\n    // new Watcher(this, 'a')\n    // this.a\n  }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"new comile"),"\u4f1a\u63a5\u6536dom\u6811"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5c06dom\u6811\u4f9d\u6b21\u904d\u5386\u5b58\u5165\u5185\u5b58\u4e2d $fragment"),(0,r.kt)("li",{parentName:"ol"},"\u5c06\u5185\u5b58\u4e2d\u7684dom\u6811\u89e3\u6790\uff0c\u5982",(0,r.kt)("inlineCode",{parentName:"li"},"{{}}  v-"),"\u7b49\u64cd\u4f5c\uff0c\u5e76\u7f16\u8bd1\u6210\u771f\u6b63\u7684dom\u6811\uff0c\u8d4b\u503c\u7ed9 $fragment"),(0,r.kt)("li",{parentName:"ol"},"\u5c06 $fragment \u63d2\u5165\u5230\u5f53\u524d\u7684dom\u6839\u8282\u70b9\u4e2d")),(0,r.kt)("p",null,"\u7b2c\u4e8c\u6b65compile\u64cd\u4f5c\u9700\u8981\u5224\u65ad\u4e0d\u540c\u7684\u8282\u70b9\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u5982\u6587\u672c\u8282\u70b9\u53ef\u80fd\u4f1a\u5b58\u5728{{}}\u8868\u8fbe\u5f0f\uff0c\u6807\u7b7e\u8282\u70b9\u53ef\u80fd\u4f1a\u5b58\u5728v-\u6307\u4ee4\uff0c\u533a\u5206\u4e0d\u540c\u7684\u64cd\u4f5c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'class Compile {\n  constructor(el, vm) {\n    this.$vm = vm;\n    this.$el = this._isElementNode(el) ? el : document.querySelector(el);\n\n    if (this.$el) {\n      this.$fragment = this.node2Fragment(this.$el); //\u5c06el\u7684\u8282\u70b9\u5b58\u5728\u7f13\u5b58$fragment\u4e2d  \u6b64\u65f6\u5305\u542b{{}}\u7b49\n      // this.init(); //\u7f16\u8bd1$fragment\n      this.compile(this.$fragment); //\u7f16\u8bd1$fragment\n      this.$el.appendChild(this.$fragment); //\u5c06\u7f16\u8bd1\u51fa\u7684$fragment\u6dfb\u52a0\u5230\u8282\u70b9  \u6b64\u65f6\u662fdom\u8282\u70b9\n    }\n  }\n\n  node2Fragment(el) {\n    //\u904d\u5386el\u628a\u5185\u5bb9\u8fd4\u56de\u51fa\u6765\n    var fragment = document.createDocumentFragment(),\n      child;\n    // \u5c06\u539f\u751f\u8282\u70b9\u62f7\u8d1d\u5230fragment\n    while ((child = el.firstChild)) {\n      fragment.appendChild(child);\n    }\n    return fragment;\n  }\n\n  compile(el) {\n    var childNodes = el.childNodes;\n\n    [].slice.call(childNodes).forEach(node => {\n      var text = node.textContent;\n      var reg = /\\{\\{(.*)\\}\\}/;\n      // console.log(node.name);\n      if (this._isElementNode(node)) {\n        //\u5982\u679c\u662f\u6807\u7b7e\u8282\u70b9 <div></div>\n        this.compileElement(node);\n      } else if (this._isTextNode(node) && reg.test(text)) {\n        //\u5982\u679c\u662f\u6587\u672c\u8282\u70b9 {{}}  \u53d6\u51fakey \u7136\u540e\u4eceobserver\u5b9e\u4f8b\u4e2d\u53d6\u51fa\u5bf9\u5e94\u7684\u503c\n        /* RegExp.$1 \u53d6\u6700\u8fd1\u7684\u4e0a\u4e0b\u6587\u5339\u914d\u6b63\u5219\u7684$1 */\n        // console.log(RegExp.$1);\n        compileUtil.text(node, this.$vm, RegExp.$1.trim());\n        // this.compileText(node, RegExp.$1.trim());\n      }\n\n      if (node.childNodes && node.childNodes.length) {\n        this.compile(node);\n      }\n    });\n  }\n\n  compileElement(node) {\n    var nodeAttrs = node.attributes;\n\n    [].slice.call(nodeAttrs).forEach(attr => {\n      var attrName = attr.name;\n      if (this._isDirective(attrName)) {\n        var exp = attr.value;//\u53d6 \u5c5e\u6027\u540d v-model="foo" \u7684 foo\n        var dir = attrName.substring(2);//\u53d6\u6307\u4ee4\u540d \u5982 v-text\u7684text  v-on\n        // \u4e8b\u4ef6\u6307\u4ee4\n        if (this._isEventDirective(dir)) {\n          compileUtil.eventHandler(node, this.$vm, exp, dir);\n          // \u666e\u901a\u6307\u4ee4\n        } else {\n          compileUtil[dir] && compileUtil[dir](node, this.$vm, exp);\n        }\n\n        node.removeAttribute(attrName);\n      }\n    });\n  }\n\n  _isDirective(attr) {\n    //\u662f vue \u6307\u4ee4\n    return attr.indexOf("v-") == 0;\n  }\n\n  _isEventDirective(dir) {\n    return dir.indexOf("on") === 0;\n  }\n\n  _isElementNode(node) {\n    return node.nodeType == 1;\n  }\n\n  _isTextNode(node) {\n    return node.nodeType == 3;\n  }\n}\n')),(0,r.kt)("h3",{id:"\u5efa\u7acbcomplie\u548cwatcher\u5b9e\u73b0\u5173\u7cfb\u5b9e\u73b0view\u66f4\u65b0"},"\u5efa\u7acbcomplie\u548cwatcher\u5b9e\u73b0\u5173\u7cfb\u5b9e\u73b0view\u66f4\u65b0"),(0,r.kt)("p",null,"\u5c01\u88c5compileUtil\u5de5\u5177\u65b9\u6cd5,\u5728complie\u5904\u8c03\u7528\uff0c\u8c03\u7528\u65f6\u53ef\u4ee5\u6dfb\u52a0wather\u8fdb\u884c\u6570\u636e\u8ba2\u9605\uff0c\u6570\u636e\u4fee\u6539\u65f6\u5019\uff0c\u4f20\u5165\u5bf9\u5e94\u7684\u64cd\u4f5c\u8fdb\u884cdom\u66f4\u65b0\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5728\u8fd9\u65f6\u6574\u5408\u4e4b\u524d\u7684observer\u548cwatcher\u5efa\u7acb\u5173\u8054\uff0c\u5e76\u5b9a\u4e49\u6570\u636e\u89e6\u53d1setter\u4e4b\u540e\u8981\u6267\u884c\u4ec0\u4e48\u6837\u7684\u6570\u636e\u64cd\u4f5c\u3002  "),(0,r.kt)("p",null,"\u6240\u4ee5\u5b8c\u5584\u4e00\u4e0bwacther"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"class Watcher {\n  constructor(vm, key, cb) {\n    this.vm = vm\n    this.key = key\n    this.cb = cb\n    \n    this.value = this.getVal()\n  }\n\n  update() {\n    console.log('watcher\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0\uff0cdata\u7684key\u503c:', this.key);\n    this.cb && this.cb.call(this.vm, this.vm[this.key])\n  }\n\n  getVal() {\n    Dep.targetWatcher = this //\u7531\u4e8ejs\u662f\u5355\u7ebf\u7a0b\n    // this.getter.call(this.vm, this.vm);\n    const value = this.vm.$data[this.key]//\u8bbf\u95ee\u4e00\u4e0b\u5b9e\u4f8b\u7684observer\u7684data key\u5c5e\u6027\uff0c\u6dfb\u52a0\u81f3dep\u4e2d\uff0c\u4fee\u6539\u65f6\u4f1a\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0\n    Dep.targetWatcher = null\n    return value;\n  }\n\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var compileUtil = {\n  /**\n   * @param {*} node \u5f53\u524d\u64cd\u4f5c\u7684dom\u8282\u70b9\uff0c\u53ef\u80fd\u662f\u6807\u7b7e\u5c5e\u6027\u4e5f\u53ef\u80fd\u662f\u6587\u672c\u8282\u70b9\n   * @param {*} vm \u5f53\u524d\u7684observer\u5b9e\u4f8b \u4e5f\u5c31\u662fvue\u5b9e\u4f8b\u53ef\u4ee5\u8bbf\u95ee\u5230\u5bf9\u5e94\u7684\u5c5e\u6027\n   * @param {*} exp \u8868\u8fbe\u5f0f\u7684key \u5982 {{foo}}\u4e2d\u7684foo \u53ef\u4ee5\u901a\u8fc7vm[foo]\u53d6\u5230\u5b9e\u4f8b\u4e2d\u7684\u6570\u636e\n   * @param {*} dir \u5b9a\u4e49\u7684dom\u4fee\u6539\u64cd\u4f5c\uff0c\u5982 v-text \u4e2d\u7684 text\n   */\n  bind: function(node, vm, exp, dir) {\n    var updaterFn = updater[dir + "Updater"];\n    updaterFn && updaterFn(node, this._getVMVal(vm, exp));\n    /* \n      observer\u5b9e\u4f8b\n      exp\u5bf9\u5e94\u7684key\u7684\u5bf9\u8c61\n    */\n    new Watcher(vm, exp, function(value, oldValue) {\n      updaterFn && updaterFn(node, value, oldValue);\n    });\n  },\n  text: function(node, vm, exp) {\n    this.bind(node, vm, exp, "text");\n  },\n\n  html: function(node, vm, exp) {\n    this.bind(node, vm, exp, "html");\n  },\n\n  model: function(node, vm, exp) {\n    this.bind(node, vm, exp, "model");\n\n    var me = this,\n      val = this._getVMVal(vm, exp);\n    node.addEventListener("input", function(e) {\n      var newValue = e.target.value;\n      if (val === newValue) {\n        return;\n      }\n\n      me._setVMVal(vm, exp, newValue);\n      val = newValue;\n    });\n  },\n\n  class: function(node, vm, exp) {\n    this.bind(node, vm, exp, "class");\n  },\n\n  // \u4e8b\u4ef6\u5904\u7406\n  eventHandler: function(node, vm, exp, dir) {\n    var eventType = dir.split(":")[1],\n      fn = vm.$options.methods && vm.$options.methods[exp];\n\n    if (eventType && fn) {\n      node.addEventListener(eventType, fn.bind(vm), false);\n    }\n  },\n\n  _getVMVal: function(vm, exp) {\n    var val = vm;\n    exp = exp.split(".");\n    exp.forEach(function(k) {\n      val = val[k];\n    });\n    return val;\n  },\n\n  _setVMVal: function(vm, exp, value) {\n    var val = vm;\n    exp = exp.split(".");\n    exp.forEach(function(k, i) {\n      // \u975e\u6700\u540e\u4e00\u4e2akey\uff0c\u66f4\u65b0val\u7684\u503c\n      if (i < exp.length - 1) {\n        val = val[k];\n      } else {\n        val[k] = value;\n      }\n    });\n  }\n};\n')),(0,r.kt)("p",null,"\u4ee5\u4e0a\u3002\u3002\u3002\u57fa\u672c\u5b9e\u73b0\u7b80\u6613\u7248\u7684vue  "),(0,r.kt)("h2",{id:"\u6838\u5fc3\u77e5\u8bc6\u70b9"},"\u6838\u5fc3\u77e5\u8bc6\u70b9"),(0,r.kt)("h3",{id:"\u865a\u62dfdom"},"\u865a\u62dfDOM"),(0,r.kt)("p",null,"\u865a\u62dfDOM\uff08Virtual Dom\uff09\u901a\u8fc7\u5bf9\u8c61\u7684\u65b9\u5f0f\u6765\u8868\u793aDOM\u7ed3\u6784\uff08\u5305\u542b\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"tag"),"\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"text"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"children")," \u7b49\u5c5e\u6027)\uff0c\u5c06\u9875\u9762\u7684DOM\u7ed3\u6784\u62bd\u8c61\u4e3aJS\u5bf9\u8c61\u7684\u5f62\u5f0f(vue2\u4e2d\u7684vdom\u501f\u9274\u4e86",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snabbdom/snabbdom"},"snbbdom"),")"),(0,r.kt)("p",null,"\u590d\u6742\u7684\u9875\u9762dom\u8282\u70b9\u4f1a\u5f88\u591a\uff0c\u9875\u9762\u9891\u7e41\u7684\u53d8\u66f4\u6570\u636e\u5c31\u9700\u8981\u7cbe\u51c6\u7684\u8ba1\u7b97\u53d8\u66f4\u8282\u70b9\uff0c\u5426\u5219\u9875\u9762\u66f4\u65b0\u6027\u80fd\u4f1a\u5f88\u5dee\u3002\u6240\u4ee5\u5c06dom\u7684\u66f4\u65b0\u8ba1\u7b97\u8f6c\u79fb\u5230vdom\u4e2d\uff0c\u7528vdom\u6a21\u62df\u771f\u5b9eDOM\u7ed3\u6784\uff0c\u627e\u51fa\u6700\u5c0f\u7684\u53d8\u66f4\uff0c\u7cbe\u51c6\u64cd\u4f5cDOM"),(0,r.kt)("p",null,"\u865a\u62dfDOM\u7684\u521d\u59cb\u6784\u5efa\u53d1\u751f\u5728complie\u8fc7\u7a0b\u6700\u7ec8\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"render"),"\u751f\u6210\u521d\u59cb\u7684dom\u6811\uff1b\u9875\u9762\u6570\u636e\u7684\u53d8\u66f4\u4f1a\u91cd\u65b0\u6784\u5efa\u8d77\u4e00\u68f5\u5bf9\u8c61\u6811\uff0c\u7136\u540e\u5c06\u8fd9\u68f5\u65b0\u7684\u5bf9\u8c61\u6811\u548c\u65e7\u7684\u5bf9\u8c61\u6811\u8fdb\u884c\u6bd4\u8f83",(0,r.kt)("inlineCode",{parentName:"p"},"update"),"\uff08diff\u8fc7\u7a0b\uff09\uff0c\u5c06\u6709\u5dee\u5f02\u7684\u5730\u65b9\u66f4\u65b0\u5230\u771f\u6b63\u7684 DOM \u6811\u4e2d\u53bb\u66f4\u65b0\u9875\u9762\u89c6\u56fe"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// vue\u6784\u9020\u51fd\u6570\nfunction Vue() {\n  // ... \u5176\u4ed6\u4ee3\u7801\n  var updateComponent = () => {\n    this._update(this._render());\n  }\n  new Watcher(updateComponent);\n  // ... \u5176\u4ed6\u4ee3\u7801\n}\n")),(0,r.kt)("p",null,"\u865a\u62dfDOM\u53e6\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4ee5\u7528\u4e8e\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u56e0\u670d\u52a1\u7aef\u65e0\u6cd5\u6e32\u67d3html\uff0c\u6240\u4ee5\u65e0\u6cd5\u76f4\u63a5\u751f\u6210html\u3002\u901a\u8fc7vdom\u6a21\u62df\u771f\u5b9eDOM\uff0c\u901a\u8fc7\u5185\u90e8\u7684\u8ba1\u7b97\u53ef\u4ee5\u751f\u6210html\u8f93\u51fa\u7ed9\u5ba2\u6237\u7aef"),(0,r.kt)("p",null,"vue\u4e2d\u7684\u865a\u62dfDOM\uff08VNode\uff09:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// \u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/vnode.js\n\nexport default class VNode {\n  constructor (\n    tag?: string,\n    data?: VNodeData,\n    children?: ?Array<VNode>,\n    text?: string,\n    elm?: Node,\n    context?: Component,\n    componentOptions?: VNodeComponentOptions,\n    asyncFactory?: Function\n  ) {\n    this.tag = tag                                /*\u5f53\u524d\u8282\u70b9\u7684\u6807\u7b7e\u540d*/\n    this.data = data        /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5177\u4f53\u7684\u4e00\u4e9b\u6570\u636e\u4fe1\u606f\uff0c\u662f\u4e00\u4e2aVNodeData\u7c7b\u578b\uff0c\u53ef\u4ee5\u53c2\u8003VNodeData\u7c7b\u578b\u4e2d\u7684\u6570\u636e\u4fe1\u606f*/\n    this.children = children  /*\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u662f\u4e00\u4e2a\u6570\u7ec4*/\n    this.text = text     /*\u5f53\u524d\u8282\u70b9\u7684\u6587\u672c*/\n    this.elm = elm       /*\u5f53\u524d\u865a\u62df\u8282\u70b9\u5bf9\u5e94\u7684\u771f\u5b9edom\u8282\u70b9*/\n    this.ns = undefined            /*\u5f53\u524d\u8282\u70b9\u7684\u540d\u5b57\u7a7a\u95f4*/\n    this.context = context          /*\u5f53\u524d\u7ec4\u4ef6\u8282\u70b9\u5bf9\u5e94\u7684Vue\u5b9e\u4f8b*/\n    this.fnContext = undefined       /*\u51fd\u6570\u5f0f\u7ec4\u4ef6\u5bf9\u5e94\u7684Vue\u5b9e\u4f8b*/\n    this.fnOptions = undefined\n    this.fnScopeId = undefined\n    this.key = data && data.key           /*\u8282\u70b9\u7684key\u5c5e\u6027\uff0c\u88ab\u5f53\u4f5c\u8282\u70b9\u7684\u6807\u5fd7\uff0c\u7528\u4ee5\u4f18\u5316*/\n    this.componentOptions = componentOptions   /*\u7ec4\u4ef6\u7684option\u9009\u9879*/\n    this.componentInstance = undefined       /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b*/\n    this.parent = undefined           /*\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9*/\n    this.raw = false         /*\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\u662f\u5426\u4e3a\u539f\u751fHTML\u6216\u53ea\u662f\u666e\u901a\u6587\u672c\uff0cinnerHTML\u7684\u65f6\u5019\u4e3atrue\uff0ctextContent\u7684\u65f6\u5019\u4e3afalse*/\n    this.isStatic = false         /*\u9759\u6001\u8282\u70b9\u6807\u5fd7*/\n    this.isRootInsert = true      /*\u662f\u5426\u4f5c\u4e3a\u8ddf\u8282\u70b9\u63d2\u5165*/\n    this.isComment = false             /*\u662f\u5426\u4e3a\u6ce8\u91ca\u8282\u70b9*/\n    this.isCloned = false           /*\u662f\u5426\u4e3a\u514b\u9686\u8282\u70b9*/\n    this.isOnce = false                /*\u662f\u5426\u6709v-once\u6307\u4ee4*/\n    this.asyncFactory = asyncFactory\n    this.asyncMeta = undefined\n    this.isAsyncPlaceholder = false\n  }\n\n  get child (): Component | void {\n    return this.componentInstance\n  }\n}\n")),(0,r.kt)("h3",{id:"vdom\u7684diff"},"vdom\u7684Diff"),(0,r.kt)("p",null,"\u5728vue\u4e2d\u7684dom-diff\u5c31\u662f\u5bf9DOM\u7684patch\u8fc7\u7a0b\uff0c\u6700\u7ec8\u7684\u6548\u679c\u5c31\u662f\u901a\u8fc7\u65b0\u65e7vdom\u6811\u7684\u5bf9\u6bd4\uff0c\u7cbe\u51c6\u7684\u66f4\u65b0\u6570\u636e\u53d8\u5316\u6240\u5f71\u54cd\u5230\u7684DOM\u8282\u70b9\uff1a"),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efa\u8282\u70b9\uff1a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"VNode"),"\u4e2d\u6709\u800c\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode"),"\u4e2d\u6ca1\u6709\uff0c\u5c31\u5728\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode"),"\u4e2d\u521b\u5efa"),(0,r.kt)("li",{parentName:"ul"},"\u5220\u9664\u8282\u70b9\uff1a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"VNode"),"\u4e2d\u6ca1\u6709\u800c\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode"),"\u4e2d\u6709\uff0c\u5c31\u4ece\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode"),"\u4e2d\u5220\u9664"),(0,r.kt)("li",{parentName:"ul"},"\u66f4\u65b0\u8282\u70b9\uff1a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"VNode"),"\u548c\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode"),"\u4e2d\u90fd\u6709\uff0c\u5c31\u4ee5\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"VNode"),"\u4e3a\u51c6\uff0c\u66f4\u65b0\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"oldVNode")))),(0,r.kt)("p",null,"\u5f15\u7528\u56fe\u7247\u770b\u4e0bpatch\u7684\u6d41\u7a0b:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s2.loli.net/2022/11/03/tyH3mOlb6sMhw4q.png",alt:"image.png"})),(0,r.kt)("p",null,"\u6e90\u7801\u4e2d\u6838\u5fc3\u7684\u4e24\u4e2apatch\u65b9\u6cd5\u6709\u4e24\u4e2a: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"patchVnode")," \u4f1a\u5224\u65ad\u662f\u5426\u9700\u8981\u5224\u65ad\u5b50\u8282\u70b9\u66f4\u65b0\uff0c\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"updateChildren"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"updateChildren")," \u4e5f\u4f1a\u5224\u65ad\u662f\u5426\u9700\u8981\u8fdb\u884cnode\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"patchVnode"),"\u66f4\u65b0"))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"patchVnode"),"\u5185\u90e8\u903b\u8f91\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u65b0vnode\u6709children",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u65e7\u7684\u4e5f\u6709children\uff0c\u5219\u8fdb\u884c\u5b50\u66f4\u65b0",(0,r.kt)("inlineCode",{parentName:"li"},"updateChildren"),"\uff08\u4f18\u5316\u70b9\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u65e7\u7684\u6ca1\u6709children\uff0c\u76f4\u63a5\u6dfb\u52a0\u65b0\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u65b0\u7684\u6ca1\u6709children\uff0c\u65e7\u7684\u6709\uff0c\u5220\u9664\u65e7\u7684"))),(0,r.kt)("li",{parentName:"ul"},"\u65b0vnode\u6ca1\u6709children\u6709text\uff0c\u5219\u79fb\u9664\u65e7\u7684vnode\u5185\u5bb9\u8fdb\u884c\u91cd\u5efa")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u8981\u505a\u4f18\u5316")),(0,r.kt)("p",null,"\u5982\u679c\u4e0d\u505a\u7b97\u6cd5\u4f18\u5316\uff0c\u4e24\u9897\u6811\u7684\u5bf9\u6bd4\u9700\u8981\u8fdb\u884c\u53cc\u5c42\u904d\u5386\u64cd\u4f5c\uff1a\u5916\u5faa\u73af\u904d\u5386treeNew\uff0c\u5185\u5faa\u73af\u904d\u5386treeOld\uff0c\u5728\u5185\u5faa\u73af\u4e2d\u8fd8\u6d89\u53ca\u5230\u6570\u7ec4\u7684\u79fb\u52a8\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4f1a\u5230O(n^3)\uff0c\u6240\u4ee5\u9700\u8981\u8fdb\u884c\u7b97\u6cd5\u4f18\u5316\uff1a"),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u53ea\u5bf9\u6bd4\u540c\u5c42\u7ea7\uff0c\u4e0d\u8de8\u7ea7\u6bd4\u8f83"),(0,r.kt)("li",{parentName:"ul"},"tag\u4e0d\u540c\u76f4\u63a5\u5220\u9664\u91cd\u5efa\u4e0d\u9012\u5f52\u6bd4\u8f83"),(0,r.kt)("li",{parentName:"ul"},"tag\u3001class\u3001id\u3001key\u76f8\u540c\u5219\u8ba4\u4e3a\u76f8\u540c\u4e0d\u8fdb\u884c\u9012\u5f52\u6bd4\u8f83"))),(0,r.kt)("p",null,"\u4e0d\u4f18\u5316\u4f1a\u600e\u4e48\u6837\uff1a"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u5f53\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"VNode"),"\u4e0e\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"oldVNode"),"\u90fd\u662f\u5143\u7d20\u8282\u70b9\u5e76\u4e14\u90fd\u5305\u542b\u5b50\u8282\u70b9\u65f6\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u8282\u70b9\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"VNode"),"\u5b9e\u4f8b\u4e0a\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"children"),"\u5c5e\u6027\u5c31\u662f\u6240\u5305\u542b\u7684\u5b50\u8282\u70b9\u6570\u7ec4\u3002\u6211\u4eec\u628a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"VNode"),"\u4e0a\u7684\u5b50\u8282\u70b9\u6570\u7ec4\u8bb0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\uff0c\u628a\u65e7\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"oldVNode"),"\u4e0a\u7684\u5b50\u8282\u70b9\u6570\u7ec4\u8bb0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\uff0c\u6211\u4eec\u628a",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u5143\u7d20\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u7684\u5143\u7d20\u4e00\u4e00\u8fdb\u884c\u5bf9\u6bd4\uff0c\u5bf9\u6bd4\u4e24\u4e2a\u5b50\u8282\u70b9\u6570\u7ec4\u80af\u5b9a\u662f\u8981\u901a\u8fc7\u5faa\u73af\uff0c\u5916\u5c42\u5faa\u73af",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u6570\u7ec4\uff0c\u5185\u5c42\u5faa\u73af",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u6570\u7ec4\uff0c\u6bcf\u5faa\u73af\u5916\u5c42",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u6570\u7ec4\u91cc\u7684\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5c31\u53bb\u5185\u5c42",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u6570\u7ec4\u91cc\u627e\u770b\u6709\u6ca1\u6709\u4e0e\u4e4b\u76f8\u540c\u7684\u5b50\u8282\u70b9\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"for (let i = 0; i < newChildren.length; i++) {\n  const newChild = newChildren[i];\n  for (let j = 0; j < oldChildren.length; j++) {\n    const oldChild = oldChildren[j];\n    if (newChild === oldChild) {\n      // ...\n    }\n  }\n}\n")),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u5b50\u8282\u70b9"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u627e\u4e0d\u5230\u4e0e\u4e4b\u76f8\u540c\u7684\u5b50\u8282\u70b9\uff0c\u90a3\u4e48\u8bf4\u660e",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u8fd9\u4e2a\u5b50\u8282\u70b9\u662f\u4e4b\u524d\u6ca1\u6709\u7684\uff0c\u662f\u9700\u8981\u6b64\u6b21\u65b0\u589e\u7684\u8282\u70b9\uff0c\u90a3\u4e48\u5c31\u521b\u5efa\u5b50\u8282\u70b9\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5220\u9664\u5b50\u8282\u70b9"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u628a",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u6bcf\u4e00\u4e2a\u5b50\u8282\u70b9\u90fd\u5faa\u73af\u5b8c\u6bd5\u540e\uff0c\u53d1\u73b0\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u8fd8\u6709\u672a\u5904\u7406\u7684\u5b50\u8282\u70b9\uff0c\u90a3\u5c31\u8bf4\u660e\u8fd9\u4e9b\u672a\u5904\u7406\u7684\u5b50\u8282\u70b9\u662f\u9700\u8981\u88ab\u5e9f\u5f03\u7684\uff0c\u90a3\u4e48\u5c31\u5c06\u8fd9\u4e9b\u8282\u70b9\u5220\u9664\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u79fb\u52a8\u5b50\u8282\u70b9"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u627e\u5230\u4e86\u4e0e\u4e4b\u76f8\u540c\u7684\u5b50\u8282\u70b9\uff0c\u4f46\u662f\u6240\u5904\u7684\u4f4d\u7f6e\u4e0d\u540c\uff0c\u8fd9\u8bf4\u660e\u6b64\u6b21\u53d8\u5316\u9700\u8981\u8c03\u6574\u8be5\u5b50\u8282\u70b9\u7684\u4f4d\u7f6e\uff0c\u90a3\u5c31\u4ee5",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u5b50\u8282\u70b9\u7684\u4f4d\u7f6e\u4e3a\u57fa\u51c6\uff0c\u8c03\u6574",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u8be5\u8282\u70b9\u7684\u4f4d\u7f6e\uff0c\u4f7f\u4e4b\u4e0e\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u7684\u4f4d\u7f6e\u76f8\u540c\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u66f4\u65b0\u8282\u70b9"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u9762\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u627e\u5230\u4e86\u4e0e\u4e4b\u76f8\u540c\u7684\u5b50\u8282\u70b9\uff0c\u5e76\u4e14\u6240\u5904\u7684\u4f4d\u7f6e\u4e5f\u76f8\u540c\uff0c\u90a3\u4e48\u5c31\u66f4\u65b0",(0,r.kt)("inlineCode",{parentName:"p"},"oldChildren"),"\u91cc\u8be5\u8282\u70b9\uff0c\u4f7f\u4e4b\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"newChildren"),"\u91cc\u7684\u8be5\u8282\u70b9\u76f8\u540c\u3002")))),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u4e0d\u8fdb\u884c\u7b97\u6cd5\u4f18\u5316\u76f4\u63a5\u53cc\u5faa\u73af\u5bf9\u6bd4\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u8fc7\u9ad8\u4e86"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u600e\u4e48\u4f18\u5316(\u91cd\u70b9)")),(0,r.kt)("p",null,"vue2(snabbdom)\u4e2d\u4f7f\u7528\u4e86\u53cc\u6307\u9488\u7684\u65b9\u5f0f\u6765\u4f18\u5316\u5faa\u73af\u5bf9\u6bd4\u65b9\u5f0f\uff0c\u65b0\u65e7\u6811\u4ece\u4e24\u7aef\u5f80\u4e2d\u95f4\u904d\u5386\u76f4\u5230\u7ed3\u675f"),(0,r.kt)("p",null,"\u4f18\u5316"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u65b0\u524d"),"\u4e0e",(0,r.kt)("strong",{parentName:"p"},"\u65e7\u524d"),"\u5bf9\u6bd4\uff0c\u76f8\u540c\u66f4\u65b0\u5b50\u8282\u70b9")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"\u65b0\u540e"),"\u4e0e",(0,r.kt)("em",{parentName:"p"},"\u65e7\u540e"),"\u5bf9\u6bd4\uff0c\u76f8\u540c\u66f4\u65b0\u5b50\u8282\u70b9")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"\u65b0\u540e"),"\u4e0e",(0,r.kt)("strong",{parentName:"p"},"\u65e7\u524d"),"\u5bf9\u6bd4\uff0c\u76f8\u540c\u66f4\u65b0\u5b50\u8282\u70b9")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u65b0\u524d"),"\u4e0e",(0,r.kt)("em",{parentName:"p"},"\u65e7\u540e"),"\u5bf9\u6bd4\uff0c\u76f8\u540c\u66f4\u65b0\u5b50\u8282\u70b9")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u7b26\u5408\u524d4\u6761\uff0c\u5219\u5faa\u73af\u5bf9\u6bd4\uff1a"),(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u65b0\u8282\u70b9\u7684key\u4ece\u65e7\u8282\u70b9\u4e2d\u67e5\u627e\uff1a"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6ca1\u6709\u5339\u914d\u7684key\uff0c\u5219\u65b0\u589e\u8282\u70b9\u5230\u6307\u5b9a\u7684\u4e0b\u6807\u4f4d\u7f6e"),(0,r.kt)("li",{parentName:"ol"},"\u5339\u914d\u5230\u4e86",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u8282\u70b9\u4e5f\u76f8\u540c\uff08tag\u7b49\uff09\uff0c\u5219\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"patchVnode"),"\u66f4\u65b0 \uff08\u6240\u4ee5\u9891\u7e41\u5220\u9664\u65b0\u589e\u7684\u4e0d\u8981\u7528index\u505akey\uff0c\u5047\u5982\u5185\u5bb9\u53ea\u6709text\u4f1a\u6709\u95ee\u9898\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u4e0d\u540c\u5219\u65b0\u589e\u8282\u70b9")))))),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u5148\u628a",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u7684\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u505a\u6bd4\u5bf9\uff0c\u5982\u679c\u76f8\u540c\uff0c\u90a3\u5c31\u76f4\u63a5\u8fdb\u5165\u66f4\u65b0\u8282\u70b9\u7684\u64cd\u4f5c\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u540c\uff0c\u518d\u628a",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u505a\u6bd4\u5bf9\uff0c\u5982\u679c\u76f8\u540c\uff0c\u90a3\u5c31\u76f4\u63a5\u8fdb\u5165\u66f4\u65b0\u8282\u70b9\u7684\u64cd\u4f5c\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u540c\uff0c\u518d\u628a",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u505a\u6bd4\u5bf9\uff0c\u5982\u679c\u76f8\u540c\uff0c\u90a3\u5c31\u76f4\u63a5\u8fdb\u5165\u66f4\u65b0\u8282\u70b9\u7684\u64cd\u4f5c\uff0c\u66f4\u65b0\u5b8c\u540e\u518d\u5c06",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u7684\u8be5\u8282\u70b9\u79fb\u52a8\u5230\u4e0e",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u8282\u70b9\u76f8\u540c\u7684\u4f4d\u7f6e\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u540c\uff0c\u518d\u628a",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u6240\u6709\u672a\u5904\u7406\u5b50\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u505a\u6bd4\u5bf9\uff0c\u5982\u679c\u76f8\u540c\uff0c\u90a3\u5c31\u76f4\u63a5\u8fdb\u5165\u66f4\u65b0\u8282\u70b9\u7684\u64cd\u4f5c\uff0c\u66f4\u65b0\u5b8c\u540e\u518d\u5c06",(0,r.kt)("inlineCode",{parentName:"li"},"oldChildren"),"\u6570\u7ec4\u91cc\u7684\u8be5\u8282\u70b9\u79fb\u52a8\u5230\u4e0e",(0,r.kt)("inlineCode",{parentName:"li"},"newChildren"),"\u6570\u7ec4\u91cc\u8282\u70b9\u76f8\u540c\u7684\u4f4d\u7f6e\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u6700\u540e\u56db\u79cd\u60c5\u51b5\u90fd\u8bd5\u5b8c\u5982\u679c\u8fd8\u4e0d\u540c\uff0c\u90a3\u5c31\u6309\u7167\u4e4b\u524d\u5faa\u73af\u7684\u65b9\u5f0f\u6765\u67e5\u627e\u8282\u70b9\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"line",line:!0},'// \u5faa\u73af\u66f4\u65b0\u5b50\u8282\u70b9\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    let oldStartIdx = 0               // oldChildren\u5f00\u59cb\u7d22\u5f15\n    let oldEndIdx = oldCh.length - 1   // oldChildren\u7ed3\u675f\u7d22\u5f15\n    let oldStartVnode = oldCh[0]        // oldChildren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e2d\u7684\u7b2c\u4e00\u4e2a\n    let oldEndVnode = oldCh[oldEndIdx]   // oldChildren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\n\n    let newStartIdx = 0               // newChildren\u5f00\u59cb\u7d22\u5f15\n    let newEndIdx = newCh.length - 1   // newChildren\u7ed3\u675f\u7d22\u5f15\n    let newStartVnode = newCh[0]        // newChildren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e2d\u7684\u7b2c\u4e00\u4e2a\n    let newEndVnode = newCh[newEndIdx]  // newChildren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\n\n    let oldKeyToIdx, idxInOld, vnodeToMove, refElm\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    const canMove = !removeOnly\n\n    if (process.env.NODE_ENV !== \'production\') {\n      checkDuplicateKeys(newCh)\n    }\n\n    // \u4ee5"\u65b0\u524d"\u3001"\u65b0\u540e"\u3001"\u65e7\u524d"\u3001"\u65e7\u540e"\u7684\u65b9\u5f0f\u5f00\u59cb\u6bd4\u5bf9\u8282\u70b9\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx] // \u5982\u679coldStartVnode\u4e0d\u5b58\u5728\uff0c\u5219\u76f4\u63a5\u8df3\u8fc7\uff0c\u6bd4\u5bf9\u4e0b\u4e00\u4e2a\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx]\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        // \u5982\u679c\u65b0\u524d\u4e0e\u65e7\u524d\u8282\u70b9\u76f8\u540c\uff0c\u5c31\u628a\u4e24\u4e2a\u8282\u70b9\u8fdb\u884cpatch\u66f4\u65b0\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue)\n        oldStartVnode = oldCh[++oldStartIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        // \u5982\u679c\u65b0\u540e\u4e0e\u65e7\u540e\u8282\u70b9\u76f8\u540c\uff0c\u5c31\u628a\u4e24\u4e2a\u8282\u70b9\u8fdb\u884cpatch\u66f4\u65b0\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        // \u5982\u679c\u65b0\u540e\u4e0e\u65e7\u524d\u8282\u70b9\u76f8\u540c\uff0c\u5148\u628a\u4e24\u4e2a\u8282\u70b9\u8fdb\u884cpatch\u66f4\u65b0\uff0c\u7136\u540e\u628a\u65e7\u524d\u8282\u70b9\u79fb\u52a8\u5230oldChilren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e4b\u540e\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))\n        oldStartVnode = oldCh[++oldStartIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        // \u5982\u679c\u65b0\u524d\u4e0e\u65e7\u540e\u8282\u70b9\u76f8\u540c\uff0c\u5148\u628a\u4e24\u4e2a\u8282\u70b9\u8fdb\u884cpatch\u66f4\u65b0\uff0c\u7136\u540e\u628a\u65e7\u540e\u8282\u70b9\u79fb\u52a8\u5230oldChilren\u4e2d\u6240\u6709\u672a\u5904\u7406\u8282\u70b9\u4e4b\u524d\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else {\n        // \u5982\u679c\u4e0d\u5c5e\u4e8e\u4ee5\u4e0a\u56db\u79cd\u60c5\u51b5\uff0c\u5c31\u8fdb\u884c\u5e38\u89c4\u7684\u5faa\u73af\u6bd4\u5bf9patch\n        if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)\n        // \u5982\u679c\u5728oldChildren\u91cc\u627e\u4e0d\u5230\u5f53\u524d\u5faa\u73af\u7684newChildren\u91cc\u7684\u5b50\u8282\u70b9\n        if (isUndef(idxInOld)) { // New element\n          // \u65b0\u589e\u8282\u70b9\u5e76\u63d2\u5165\u5230\u5408\u9002\u4f4d\u7f6e\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\n        } else {\n          // \u5982\u679c\u5728oldChildren\u91cc\u627e\u5230\u4e86\u5f53\u524d\u5faa\u73af\u7684newChildren\u91cc\u7684\u5b50\u8282\u70b9\n          vnodeToMove = oldCh[idxInOld]\n          // \u5982\u679c\u4e24\u4e2a\u8282\u70b9\u76f8\u540c\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            // \u8c03\u7528patchVnode\u66f4\u65b0\u8282\u70b9\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue)\n            oldCh[idxInOld] = undefined\n            // canmove\u8868\u793a\u662f\u5426\u9700\u8981\u79fb\u52a8\u8282\u70b9\uff0c\u5982\u679c\u4e3atrue\u8868\u793a\u9700\u8981\u79fb\u52a8\uff0c\u5219\u79fb\u52a8\u8282\u70b9\uff0c\u5982\u679c\u4e3afalse\u5219\u4e0d\u7528\u79fb\u52a8\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\n          }\n        }\n        newStartVnode = newCh[++newStartIdx]\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      /**\n       * \u5982\u679coldChildren\u6bd4newChildren\u5148\u5faa\u73af\u5b8c\u6bd5\uff0c\n       * \u90a3\u4e48newChildren\u91cc\u9762\u5269\u4f59\u7684\u8282\u70b9\u90fd\u662f\u9700\u8981\u65b0\u589e\u7684\u8282\u70b9\uff0c\n       * \u628a[newStartIdx, newEndIdx]\u4e4b\u95f4\u7684\u6240\u6709\u8282\u70b9\u90fd\u63d2\u5165\u5230DOM\u4e2d\n       */\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\n    } else if (newStartIdx > newEndIdx) {\n      /**\n       * \u5982\u679cnewChildren\u6bd4oldChildren\u5148\u5faa\u73af\u5b8c\u6bd5\uff0c\n       * \u90a3\u4e48oldChildren\u91cc\u9762\u5269\u4f59\u7684\u8282\u70b9\u90fd\u662f\u9700\u8981\u5220\u9664\u7684\u8282\u70b9\uff0c\n       * \u628a[oldStartIdx, oldEndIdx]\u4e4b\u95f4\u7684\u6240\u6709\u8282\u70b9\u90fd\u5220\u9664\n       */\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)\n    }\n  }\n\n')),(0,r.kt)("h3",{id:"\u901a\u8fc7diff\u7406\u89e3\u4e00\u4e0bkey"},"\u901a\u8fc7diff\u7406\u89e3\u4e00\u4e0bkey"),(0,r.kt)("p",null,"key \u662f\u4e3a Vue \u4e2d vnode \u7684\u552f\u4e00\u6807\u8bb0\uff0c\u901a\u8fc7\u8fd9\u4e2a key\uff0cdiff \u64cd\u4f5c\u53ef\u4ee5\u66f4\u51c6\u786e\u3001\u66f4\u5feb\u901f\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"sameVnode"),"\u5c31\u662f\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"key"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"tag"),"\u6765\u5224\u65ad\u7684"),(0,r.kt)("p",null,"\u5982\u679c\u4f7f\u7528index\u6216\u8005\u4e0d\u6307\u5b9akey\u53ef\u80fd\u4f1a\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5f71\u54cd\u5230\u8282\u70b9\u5185\u5bb9\u9519\u8bef\u7684\u66f4\u65b0"),(0,r.kt)("li",{parentName:"ol"},"\u5f71\u54cd\u8282\u70b9\u987a\u5e8f\u53d8\u66f4\uff0c\u5143\u7d20\u65e0\u6cd5\u590d\u7528"),(0,r.kt)("li",{parentName:"ol"},"\u7528 v-if \u6765\u5b9e\u73b0\u5143\u7d20\u5207\u6362\u7684\u65f6\u5019\uff0c\u5982\u679c\u5207\u6362\u524d\u540e\u542b\u6709\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5143\u7d20\u5c31\u4f1a\u88ab\u590d\u7528")),(0,r.kt)("h3",{id:"template\u89e3\u6790"},"template\u89e3\u6790"),(0,r.kt)("h2",{id:"\u53c2\u8003\u6587\u7ae0"},"\u53c2\u8003\u6587\u7ae0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/DMQ/mvvm"},"https://github.com/DMQ/mvvm")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nlrx-wjc.github.io/Learn-Vue-Source-Code"},"https://nlrx-wjc.github.io/Learn-Vue-Source-Code")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.bilibili.com/video/BV1dr4y1M7ta"},"https://www.bilibili.com/video/BV1dr4y1M7ta"))))}c.isMDXComponent=!0},8845:function(e,n){n.Z="data:image/png;base64,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"},3765:function(e,n,t){n.Z=t.p+"assets/images/vue-2-7c479e2dbc4892e7692e9545bba0ba93.png"}}]);